(this.webpackJsonpclean=this.webpackJsonpclean||[]).push([[0],{63:function(e,t,n){},65:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){"use strict";n.r(t);var c=n(10),r=n.n(c),i=n(51),a=n.n(i),s=n(14),o=n(17),j=n(20),u=n(1),d=n.n(u),l=n(3),b=n(39);n(60),n(77),n(76);b.a.initializeApp({apiKey:"AIzaSyCqDlhr3ak33rmoz2-H1QNagnDRsH0P5kQ",authDomain:"kbsc-project-new-react-ver.firebaseapp.com",projectId:"kbsc-project-new-react-ver",storageBucket:"kbsc-project-new-react-ver.appspot.com",messagingSenderId:"1050253154774",appId:"1:1050253154774:web:305081fefe19aa22bc6c77",measurementId:"G-V6CS889SLF"});var O=b.a,h=b.a.auth(),x=b.a.firestore(),f=b.a.storage(),p=(n(63),n(35)),m=n(2),v=function(){var e=function(){var e=Object(l.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"google"===t.target.name&&(n=new O.auth.GoogleAuthProvider),e.prev=2,e.next=5,h.signInWithPopup(n);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{className:"login-container",children:[Object(m.jsx)(p.a,{className:"login-back",onClick:function(){window.location.assign("")}}),Object(m.jsx)("div",{className:"login-button-container",children:Object(m.jsxs)("button",{onClick:e,name:"google",className:"login-icon",children:[Object(m.jsx)(p.b,{className:"login-google-icon"}),Object(m.jsx)("span",{children:"Sign In Google"})]})})]})})},g=n(18),w=(n(65),n(32)),k=function(e){var t=e.userObj;try{var n=x.collection("users").doc(t.uid);n.get().then((function(e){if(e.exists)n.onSnapshot((function(e){}));else{var t=function(){for(var e=[],t=0;e.length<7;)t=Math.round(33*Math.random()+1),!1===e.includes(t)&&e.push(t);return e.sort((function(e,t){return e-t})),e}();n.set({point:0,clearMission:[],failedMission:[],checkMission:[],LimitAssignItem:3,missionList:t,recentlyEdit:Date.now(),createdAt:Date.now(),ReRoll:2})}}))}catch(l){window.location.assign("")}var r=0,i=Object(c.useState)([]),a=Object(s.a)(i,2),j=a[0],u=a[1];Object(c.useEffect)((function(){x.collection("users").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(g.a)({id:e.id},e.data())}));u(t)}))}),[]);try{for(var d=0;d<j.length;d++)j[d].id===t.uid&&(r=j[d].point)}catch(l){}return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:"home-Logo",children:[Object(m.jsx)("p",{children:"\uc9c0\uad6c\uc790\uad6c"}),Object(m.jsx)("p",{children:"ZIGUZAGU"})]}),Object(m.jsx)("div",{className:"home",children:Object(m.jsx)("nav",{children:Object(m.jsxs)("ul",{className:"home-nav",children:[Object(m.jsx)("li",{className:"home-first",children:Object(m.jsx)("p",{children:r+" Point"})}),Object(m.jsxs)("li",{onClick:function(){window.confirm("\ub85c\uadf8\uc544\uc6c3 \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")&&h.signOut()},children:[Object(m.jsx)(w.c,{}),Object(m.jsx)("p",{children:"LogOut"})]}),Object(m.jsx)("li",{children:Object(m.jsxs)(o.b,{to:"/mission",children:[Object(m.jsx)(p.d,{}),Object(m.jsx)("p",{children:"mission"})]})}),Object(m.jsx)("li",{children:Object(m.jsxs)(o.b,{to:"/community",children:[Object(m.jsx)(w.a,{}),Object(m.jsx)("p",{children:"Community"})]})}),Object(m.jsx)("li",{children:Object(m.jsxs)(o.b,{to:"/store",children:[Object(m.jsx)(w.d,{}),Object(m.jsx)("p",{children:"Store"})]})}),Object(m.jsx)("li",{children:Object(m.jsxs)(o.b,{to:"/profile",children:[Object(m.jsx)(w.e,{}),Object(m.jsx)("p",{children:"History"})]})})]})})})]})},y=n(15),S=function(e){var t=e.historyData;return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("li",{children:[Object(m.jsx)("p",{children:t.whatDid}),Object(m.jsx)("p",{children:t.createdAt})]})})},C=function(e){var t=e.userObj,n=0,c=Object(y.useState)([]),r=Object(s.a)(c,2),i=r[0],a=r[1];Object(y.useEffect)((function(){x.collection("users").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(g.a)({id:e.id},e.data())}));a(t)}))}),[]);try{for(var o=0;o<i.length;o++)i[o].id===t.uid&&(n=i[o].point)}catch(b){}var j=Object(y.useState)([]),u=Object(s.a)(j,2),d=u[0],l=u[1];return Object(y.useEffect)((function(){x.collection("userHistory").orderBy("createdAt","desc").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(g.a)({id:e.id},e.data())}));l(t)}))}),[]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("p",{children:n+" Point"}),Object(m.jsx)("button",{onClick:function(){h.signOut()},children:"Log out"}),Object(m.jsx)("p",{children:"UserHistory"}),d.map((function(e){return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("ul",{children:e.creatorId===t.uid&&Object(m.jsx)(S,{historyData:e},e.id)})})}))]})},F=(n(73),function(){return Object(m.jsx)("nav",{children:Object(m.jsxs)("ul",{className:"nav-nav",children:[Object(m.jsx)("li",{children:Object(m.jsx)(o.b,{to:"/",children:"Home"})}),Object(m.jsx)("li",{children:Object(m.jsx)(o.b,{to:"/profile",children:"History"})}),Object(m.jsx)("li",{children:Object(m.jsx)(o.b,{to:"/store",children:"Store"})}),Object(m.jsx)("li",{children:Object(m.jsx)(o.b,{to:"/mission",children:"Mission"})}),Object(m.jsx)("li",{children:Object(m.jsx)(o.b,{to:"/community",children:"Community "})})]})})}),I=function(e){var t=e.itemObj;return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(o.b,{to:"/storeitem?id="+t.id,children:Object(m.jsxs)("li",{children:[Object(m.jsx)("img",{alt:"img",src:t.attachmentUrl,width:"50px",height:"50px"}),Object(m.jsx)("p",{children:t.title}),Object(m.jsx)("p",{children:t.text}),Object(m.jsx)("p",{children:t.price+" point"})]})})})},L=function(e){var t=e.userObj,n=Object(y.useState)([]),c=Object(s.a)(n,2),r=c[0],i=c[1];Object(y.useEffect)((function(){x.collection("StoreItems").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(g.a)({id:e.id},e.data())}));i(t)}))}),[]);var a=[],j=Object(y.useState)([]),u=Object(s.a)(j,2),d=u[0],l=u[1];Object(y.useEffect)((function(){x.collection("users").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(g.a)({id:e.id},e.data())}));l(t)}))}),[]);try{for(var b=0;b<d.length;b++)if(d[b].id===t.uid){a=d[b];break}}catch(C){}var O=Object(y.useState)(!1),h=Object(s.a)(O,2),f=h[0],p=h[1],v=Object(y.useState)(!1),w=Object(s.a)(v,2),k=w[0],S=w[1];return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("p",{children:["\uc0c1\ud488\ub4f1\ub85d\uad8c : ",a.LimitAssignItem," / 3 "]}),Object(m.jsx)(o.b,{to:"/store/item",children:"Assign"}),Object(m.jsxs)("div",{children:[Object(m.jsx)("button",{onClick:function(){p((function(e){return!e})),!0===k&&S((function(e){return!e}))},children:f?"\ub0b4 \uc0c1\ud488":"\ubaa8\ub4e0 \uc0c1\ud488"}),Object(m.jsx)("button",{onClick:function(){S((function(e){return!e})),!0===f&&p((function(e){return!e}))},children:k?"\uad6c\ub9e4 \uac00\ub2a5":"\ubaa8\ub4e0 \uc0c1\ud488"}),Object(m.jsx)("ul",{children:r.map((function(e){return Object(m.jsx)(m.Fragment,{children:f?Object(m.jsx)(m.Fragment,{children:e.creatorId===t.uid&&Object(m.jsx)(I,{itemObj:e},e.id)}):Object(m.jsx)(m.Fragment,{children:k?Object(m.jsx)(m.Fragment,{children:a.point>=e.price&&a.creatorId!==t.uid&&Object(m.jsx)(I,{itemObj:e},e.id)}):Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(I,{itemObj:e},e.id)})})})}))})]})]})},D=n(22),N=n(11),M=function(e){var t=e.missionCode,n=e.missions,c=e.userDb,r="\uc544\uc9c1\uc544\ubb34\uac83\ub3c4";c.checkMission.includes(t+1)?r="\uac80\ud1a0\uc911":c.clearMission.includes(t+1)?r="\uc644\ub8cc":c.failedMission.includes(t+1)&&(r="\uc2e4\ud328");return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("div",{children:Object(m.jsxs)("li",{children:[Object(m.jsx)("p",{children:n[t]}),"\uc544\uc9c1\uc544\ubb34\uac83\ub3c4"===r?Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(o.b,{to:"/verify?id="+t,children:"\uc778\uc99d\ud558\uae30"})}):Object(m.jsx)("p",{children:r})]})})})},U=function(e){var t="/evalute?id="+e.mission.id;return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("li",{children:Object(m.jsx)(o.b,{to:t,children:"\ubbf8\uc158 \ud3c9\uac00\ud558\uae30"})})})},A=function(e){var t=e.userObj,n=Object(y.useState)(""),c=Object(y.useState)(""),r=[],i=[],a=[],o=Object(y.useState)([]),j=Object(s.a)(o,2),u=j[0],b=j[1],O=Object(y.useState)([]),h=Object(s.a)(O,2),p=h[0],v=h[1];Object(y.useEffect)((function(){x.collection("users").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(g.a)({id:e.id},e.data())}));b(t)}))}),[]),Object(y.useEffect)((function(){x.collection("MissionList").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(g.a)({id:e.id},e.data())}));v(t)}))}),[]);try{c=p[0].mission;for(var w=0;w<u.length;w++)u[w].id===t.uid&&(n=u[w].missionList,a=u[w]);var k,S=Object(N.a)(n);try{for(S.s();!(k=S.n()).done;){var C=k.value;r.push(c[C-1]),i.push(C-1)}}catch(T){S.e(T)}finally{S.f()}}catch(P){}var F=Object(y.useState)(""),I=Object(s.a)(F,2),L=I[0],A=I[1],R=[];Object(y.useEffect)((function(){x.collection("Checking").orderBy("createdAt","desc").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(g.a)({id:e.id},e.data())}));A(t)}))}),[]);try{for(var E=function(e){if(L[e].creatorId!==t.uid&&!1===L[e].who.includes(t.uid))R.push(L[e]);else if(L[e].creatorId===t.uid){var n=L[e].people,c=L[e].sum;if(a.recentlyEdit+1500<=Date.now())if(14<=c&&n>=3)(function(){var n=Object(l.a)(d.a.mark((function n(){var c,r,i,s,o;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:for(c=Number(L[e].missionCode)+1,r=a.clearMission,i=a.checkMission,!1===r.includes(c)&&r.push(c),s=0;s<i.length;s++)i[s]===c&&(i.splice(s,1),s--);return n.prev=5,o=Number(a.point),n.next=9,x.doc("users/".concat(t.uid)).update({checkMission:i,clearMission:r,point:o+50,recentlyEdit:Date.now()});case 9:return n.next=11,f.refFromURL(L[e].attachmentUrl).delete();case 11:return n.next=13,x.doc("Checking/".concat(L[e].id)).delete();case 13:n.next=17;break;case 15:n.prev=15,n.t0=n.catch(5);case 17:case"end":return n.stop()}}),n,null,[[5,15]])})));return function(){return n.apply(this,arguments)}})()();else if(14>c&&n>=3){(function(){var n=Object(l.a)(d.a.mark((function n(){var c,r,i,s;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:for(c=Number(L[e].missionCode)+1,r=a.failedMission,i=a.checkMission,!1===r.includes(c)&&r.push(c),s=0;s<i.length;s++)i.splice(s,1),s--;return n.prev=5,n.next=8,x.doc("users/".concat(t.uid)).update({checkMission:i,failedMission:r,recentlyEdit:Date.now()});case 8:return n.next=10,f.refFromURL(L[e].attachmentUrl).delete();case 10:return n.next=12,x.doc("Checking/".concat(L[e].id)).delete();case 12:n.next=16;break;case 14:n.prev=14,n.t0=n.catch(5);case 16:case"end":return n.stop()}}),n,null,[[5,14]])})));return function(){return n.apply(this,arguments)}})()()}}},G=0;G<L.length;G++)E(G)}catch(P){}var H=Number(a.ReRoll),B=function(){var e=Object(l.a)(d.a.mark((function e(){var n,c,r,i,s,o,j,u;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(H>0)){e.next=17;break}for(n=a.missionList,c=a.checkMission,r=a.clearMission,i=a.failedMission,s=[].concat(Object(D.a)(c),Object(D.a)(r),Object(D.a)(i)),o=[],j=0;o.length<n.length-s.length;)j=Math.round(33*Math.random()+1),!1===o.includes(j)&&!1===s.includes(j)&&o.push(j);return(u=[].concat(o,Object(D.a)(s))).sort((function(e,t){return e-t})),e.next=13,x.doc("users/".concat(t.uid)).update({missionList:u,ReRoll:H-1});case 13:return e.next=15,x.collection("userHistory").add({creatorId:t.uid,createdAt:Date.now(),whatDid:"\ubbf8\uc158 \ubcc0\uacbd"});case 15:e.next=18;break;case 17:alert("\ub9ac\ub864\uad8c\uc774 \uc5c6\uc2b5\ub2c8\ub2e4");case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{children:[Object(m.jsx)("p",{children:"Misson"}),Object(m.jsxs)("p",{children:["Mission Re:Roll : ",a.ReRoll," / 2"]}),Object(m.jsx)("button",{onClick:B,children:"ReRoll"}),Object(m.jsx)("ul",{children:i.map((function(e){return Object(m.jsx)(M,{missionCode:e,missions:c,userDb:a},e)}))}),Object(m.jsx)("p",{children:"Evaluating"}),Object(m.jsx)("ul",{children:R.map((function(e){return Object(m.jsx)(U,{mission:e},e.id)}))})]})})},R=function(e){var t=e.nweetObj;return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{children:[Object(m.jsx)("h4",{children:t.title}),Object(m.jsx)("h4",{children:t.text}),t.attachmentUrl&&Object(m.jsx)("img",{alt:"tips",src:t.attachmentUrl,width:"50px",height:"50px"})]})})},E=function(e){var t=e.userObj,n=(e.isLoggedIn,Object(y.useState)([])),c=Object(s.a)(n,2),r=c[0],i=c[1];Object(y.useEffect)((function(){x.collection("tips").orderBy("createdAt","desc").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(g.a)({id:e.id},e.data())}));i(t)}))}),[]);var a="/modal?",j=Object(y.useState)(!1),u=Object(s.a)(j,2),b=u[0],O=u[1],h=function(){var e=Object(l.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O((function(e){return!e}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{children:[Object(m.jsx)("button",{onClick:h,children:b?"\ub0b4 \uae00":"\ubaa8\ub4e0 \uae00"}),Object(m.jsx)("ul",{children:r.map((function(e){return Object(m.jsx)(m.Fragment,{children:b?Object(m.jsx)(m.Fragment,{children:e.creatorId===t.uid&&Object(m.jsx)("li",{children:Object(m.jsx)(o.b,{to:a+"id="+e.id,children:Object(m.jsx)(R,{nweetObj:e,isOwner:e.creatorId===t.uid},e.id)})},e.id)}):Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("li",{children:Object(m.jsx)(o.b,{to:a+"id="+e.id,children:Object(m.jsx)(R,{nweetObj:e,isOwner:e.creatorId===t.uid},e.id)})},e.id)})})}))})]})})},G=function(e){var t=e.userObj,n=e.isLoggedIn;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(o.b,{to:"/community/write",children:"Write"}),Object(m.jsx)(E,{userObj:t,isLoggedIn:n})]})},H=(n(74),n.p+"static/media/InfoVideo.543e2f2e.mp4"),B=function(){var e=Object(c.useState)(!0),t=Object(s.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)(-1),a=Object(s.a)(i,2),j=a[0],u=a[1],d=[{main:"\ubbf8\uc158\uc73c\ub85c",text:"\ud658\uacbd\uc744 \uc9c0\ud0a4\ub294 \ud55c\uac78\uc74c \uc2e4\ucc9c\ud574 \ubcf4\uc138\uc694!"},{main:"\ucee4\ubba4\ub2c8\ud2f0\uc5d0\uc11c",text:"\ud658\uacbd\uc744 \uc9c0\ud0a4\ub294 \ubc29\ubc95\uc744 \uacf5\uc720\ud574 \ubcf4\uc138\uc694!"},{main:"\uc2a4\ud1a0\uc5b4\uc5d0\uc11c",text:"\ud658\uacbd \ubcf4\ud638\uc758 \uc99d\uac70\ub97c \uad6c\ub9e4\ud574 \ubcf4\uc138\uc694!"},{main:"QR\uc744 \ud1b5\ud574",text:"\uc9c0\uad6c\uc790\uad6c \uc571\uc744 \ub2e4\uc6b4\ubc1b\uc73c\uc138\uc694!"},{main:"\uc9c0\uad6c\uc790\uad6c\uc640 \ud568\uaed8\ud574\uc694",text:"\uc9c0\uad6c\uc790\uad6c \ub85c\uadf8\uc778"}];function l(e){-1===j?(r((function(e){return!e})),u(e)):j===e?(r((function(e){return!e})),u(-1)):u(e)}return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:"landing-Logo",children:[Object(m.jsx)("p",{children:"\uc9c0\uad6c\uc790\uad6c"}),Object(m.jsx)("p",{children:"ZIGUZAGU"})]}),Object(m.jsx)("div",{className:"landing-1",children:Object(m.jsx)("nav",{children:Object(m.jsxs)("ul",{className:"landing-nav",children:[Object(m.jsx)("li",{className:"landing-1-video",children:n?Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("video",{preload:"true",loop:!0,autoPlay:!0,children:[Object(m.jsx)("source",{src:H,type:"video/mp4"}),"good"]})}):Object(m.jsx)(m.Fragment,{children:4===j?Object(m.jsxs)("div",{children:[Object(m.jsx)("h1",{children:d[j].main}),Object(m.jsx)("p",{className:"landing-toLogin",children:Object(m.jsx)(o.b,{to:"/auth",children:d[j].text})})]}):Object(m.jsxs)("div",{children:[Object(m.jsx)("h3",{children:d[j].main}),Object(m.jsx)("p",{children:d[j].text})]})})}),Object(m.jsxs)("li",{onClick:function(){return l(4)},children:[Object(m.jsx)(w.b,{}),Object(m.jsx)("p",{children:"Login"})]}),Object(m.jsxs)("li",{onClick:function(){return l(0)},children:[Object(m.jsx)(p.d,{}),Object(m.jsx)("p",{children:"mission"})]}),Object(m.jsxs)("li",{onClick:function(){return l(1)},children:[Object(m.jsx)(w.a,{}),Object(m.jsx)("p",{children:"Community"})]}),Object(m.jsxs)("li",{onClick:function(){return l(2)},children:[Object(m.jsx)(w.d,{}),Object(m.jsx)("p",{children:"Store"})]}),Object(m.jsxs)("li",{onClick:function(){return l(3)},children:[Object(m.jsx)(p.c,{}),Object(m.jsx)("p",{children:"QR Code"})]})]})})}),Object(m.jsxs)("div",{className:"landing-2",children:[Object(m.jsxs)("div",{className:"landing-2-textContainer",children:[Object(m.jsxs)("div",{className:"landing-2-MainText",children:[Object(m.jsx)("p",{children:"\ud658\uacbd\uc744 \ubcf4\ud638\ud558\ub294 \ubc29\ubc95\uc740"}),Object(m.jsx)("p",{children:"\uc5ec\ub7ec\ubd84\ub4e4\ub3c4 \uc774\ubbf8 \uc54c\uace0 \uc788\uc2b5\ub2c8\ub2e4"})]}),Object(m.jsx)("div",{className:"landing-2-SubText",children:"GuideLines for you"})]}),Object(m.jsxs)("div",{className:"landing-2-info",children:[Object(m.jsx)("div",{children:"LoremIpsum"}),Object(m.jsx)("hr",{}),Object(m.jsx)("div",{children:"2"}),Object(m.jsx)("hr",{}),Object(m.jsx)("div",{children:"3"})]})]}),Object(m.jsxs)("div",{className:"landing-3",children:[Object(m.jsx)("img",{alt:""}),Object(m.jsxs)("div",{className:"landing-3-container",children:[Object(m.jsx)("p",{className:"landing-3-prob",children:"We Can Save"}),Object(m.jsx)("p",{children:'" \uc791\uc740 \ud654\uba74 \uc18d\uc5d0\uc11c\ub3c4'}),Object(m.jsx)("p",{children:'\uc9c0\uad6c\ub97c \uc9c0\ud0ac \uc218 \uc788\uc2b5\ub2c8\ub2e4. "'})]})]}),Object(m.jsxs)("footer",{className:"landing-footer",children:[Object(m.jsx)("p",{children:"\uc9c0\uad6c\uc790\uad6c"}),Object(m.jsx)("p",{children:"\uac1c\uc778\uc815\ubcf4\ucc98\ub9ac\ubc29\uce68"})]})]})},T=n(78),P=function(e){var t=e.userObj,n=Object(y.useState)(""),c=Object(s.a)(n,2),r=c[0],i=c[1],a=Object(y.useState)(""),o=Object(s.a)(a,2),j=o[0],u=o[1],b=Object(y.useState)(""),O=Object(s.a)(b,2),h=O[0],p=O[1],v=function(){var e=Object(l.a)(d.a.mark((function e(n){var c,i,a,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==j&&""!==r){e.next=3;break}e.next=21;break;case 3:if(n.preventDefault(),c="",""===h){e.next=13;break}return i=f.ref().child("tips/".concat(Object(T.a)())),e.next=9,i.putString(h,"data_url");case 9:return a=e.sent,e.next=12,a.ref.getDownloadURL();case 12:c=e.sent;case 13:return s={title:r,text:j,createdAt:Date.now(),creatorId:t.uid,attachmentUrl:c},e.next=16,x.collection("tips").add(s);case 16:return e.next=18,x.collection("userHistory").add({creatorId:t.uid,createdAt:Date.now(),whatDid:"WriteTip"});case 18:u(""),p(""),window.location.assign("");case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsxs)("form",{onSubmit:v,children:[Object(m.jsx)("input",{value:r,onChange:function(e){var t=e.target.value;i(t)},type:"text",placeholder:"Title",maxLength:30}),Object(m.jsx)("input",{value:j,onChange:function(e){var t=e.target.value;u(t)},type:"text",placeholder:"What?",maxLength:120}),Object(m.jsx)("input",{type:"file",onChange:function(e){var t=e.target.files[0],n=new FileReader;n.onloadend=function(e){var t=e.currentTarget.result;p(t)},n.readAsDataURL(t)},accept:"image/*"}),Object(m.jsx)("input",{type:"submit",value:"Up"}),h&&Object(m.jsxs)("div",{children:[Object(m.jsx)("img",{src:h,alt:"write",width:"50px",height:"50px"}),Object(m.jsx)("button",{onClick:function(){return p("")},children:"Clear"})]})]})},W=function(e){var t=e.userObj,n=Object(y.useState)(""),c=Object(s.a)(n,2),r=c[0],i=c[1],a=Object(y.useState)(""),o=Object(s.a)(a,2),j=o[0],u=o[1],b=Object(y.useState)(""),O=Object(s.a)(b,2),h=O[0],p=O[1],v=[],w=Object(y.useState)([]),k=Object(s.a)(w,2),S=k[0],C=k[1];Object(y.useEffect)((function(){x.collection("users").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(g.a)({id:e.id},e.data())}));C(t)}))}),[]);try{for(var F=0;F<S.length;F++)if(S[F].id===t.uid){v=S[F];break}}catch(U){}v.LimitAssignItem<=0&&(alert("\uc0c1\ud488 \ub4f1\ub85d\uad8c\uc774 \uc5c6\uc2b5\ub2c8\ub2e4!"),window.location.assign(""));var I=function(){var e=Object(l.a)(d.a.mark((function e(n){var c,i,a,s,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==j&&""!==r){e.next=3;break}e.next=24;break;case 3:if(n.preventDefault(),c="",""===h){e.next=13;break}return i=f.ref().child("tips/".concat(Object(T.a)())),e.next=9,i.putString(h,"data_url");case 9:return a=e.sent,e.next=12,a.ref.getDownloadURL();case 12:c=e.sent;case 13:return s={title:r,text:j,createdAt:Date.now(),creatorId:t.uid,attachmentUrl:c,price:N},e.next=16,x.collection("StoreItems").add(s);case 16:return e.next=18,x.collection("userHistory").add({creatorId:t.uid,createdAt:Date.now(),whatDid:"\uc0c1\ud488 \ub4f1\ub85d"});case 18:return o=Number(v.LimitAssignItem)-1,e.next=21,x.doc("users/".concat(t.uid)).update({LimitAssignItem:o});case 21:u(""),p(""),window.location.assign("");case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=Object(y.useState)(""),D=Object(s.a)(L,2),N=D[0],M=D[1];return Object(m.jsxs)("form",{onSubmit:I,children:[Object(m.jsx)("input",{value:r,onChange:function(e){var t=e.target.value;i(t)},type:"text",placeholder:"Title",maxLength:30}),Object(m.jsx)("input",{value:j,onChange:function(e){var t=e.target.value;u(t)},type:"text",placeholder:"What?",maxLength:120}),Object(m.jsx)("input",{type:"text",value:N,onKeyDown:function(e){return e.key>=0&&e.key<=9},onChange:function(e){var t=e.target.value;try{M(Number(t))}catch(U){alert("\uc22b\uc790\ub9cc \uc785\ub825\ud574\uc8fc\uc138\uc694"),M()}},placeholder:"Point \uac00\uaca9"}),Object(m.jsx)("input",{type:"file",onChange:function(e){var t=e.target.files[0],n=new FileReader;n.onloadend=function(e){var t=e.currentTarget.result;p(t)},n.readAsDataURL(t)},accept:"image/*"}),Object(m.jsx)("input",{type:"submit",value:"Up"}),h&&Object(m.jsxs)("div",{children:[Object(m.jsx)("img",{src:h,alt:"write",width:"50px",height:"50px"}),Object(m.jsx)("button",{onClick:function(){return p("")},children:"Clear"})]})]})},z=function(e){"rPG81P80MydSfqia3UsTJv2zqSZ2"===e.userObj.uid||window.location.assign("");var t=Object(y.useState)(""),n=Object(s.a)(t,2),c=n[0],r=n[1],i=function(){var e=Object(l.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=c.split(","),e.next=4,x.collection("MissionList").doc("a").set({mission:n});case 4:r("");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("div",{children:Object(m.jsxs)("form",{onSubmit:i,children:[Object(m.jsx)("input",{type:"text",value:c,onChange:function(e){var t=e.target.value;r(t)},placeholder:"\ubbf8\uc158 \uc785\ub825, ','\ub85c \uad6c\ubd84"}),Object(m.jsx)("input",{type:"submit",value:"submit"})]})})})},Z=function(e){var t=e.userObj,n=window.location.href.split("?id=")[1],c="",r=(Object(y.useState)(""),Object(y.useState)([])),i=Object(s.a)(r,2),a=i[0],o=i[1];Object(y.useEffect)((function(){x.collection("MissionList").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(g.a)({id:e.id},e.data())}));o(t)}))}),[]);try{c=a[0].mission[n]}catch(N){}var j,u=Object(y.useState)(""),b=Object(s.a)(u,2),O=b[0],h=b[1];try{Object(y.useEffect)((function(){x.collection("users").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(g.a)({id:e.id},e.data())}));h(t)}))}),[]);for(var p=0;p<O.length;p++)if(O[p].id===t.uid){!1===(j=O[p].checkMission).includes(Number(n)+1)&&j.push(Number(n)+1);break}}catch(N){}var v=Object(y.useState)(""),w=Object(s.a)(v,2),k=w[0],S=w[1],C=Object(y.useState)(""),F=Object(s.a)(C,2),I=F[0],L=F[1],D=function(){var e=Object(l.a)(d.a.mark((function e(c){var r,i,a,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==k){e.next=3;break}e.next=23;break;case 3:if(c.preventDefault(),r="",""===I){e.next=15;break}return i=f.ref().child("tips/".concat(Object(T.a)())),e.next=9,i.putString(I,"data_url");case 9:return a=e.sent,e.next=12,a.ref.getDownloadURL();case 12:return r=e.sent,e.next=15,x.collection("userHistory").add({creatorId:t.uid,createdAt:Date.now(),whatDid:"\ubbf8\uc158 \uc778\uc99d \uc2e0\uccad"});case 15:return s={people:0,sum:0,text:k,createdAt:Date.now(),creatorId:t.uid,missionCode:n,attachmentUrl:r,who:[]},e.next=18,x.collection("Checking").add(s);case 18:return e.next=20,x.doc("users/".concat(t.uid)).update({checkMission:j});case 20:S(""),L(""),window.location.assign("");case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("p",{children:"\ubbf8\uc158 - "+c}),Object(m.jsxs)("form",{onSubmit:D,children:[Object(m.jsx)("input",{onChange:function(e){var t=e.target.value;S(t)},type:"text",placeholder:"Input Text"}),Object(m.jsx)("input",{type:"file",onChange:function(e){var t=e.target.files[0],n=new FileReader;n.onloadend=function(e){var t=e.currentTarget.result;L(t)},n.readAsDataURL(t)},accept:"image/*"}),Object(m.jsx)("input",{type:"submit",value:"\uc778\uc99d \uc2e0\uccad"})]}),I&&Object(m.jsxs)("div",{children:[Object(m.jsx)("img",{src:I,alt:"write",width:"50px",height:"50px"}),Object(m.jsx)("button",{onClick:function(){return L("")},children:"Clear"})]})]})},Q=function(e){var t=e.userObj,n=window.location.href.split("?id=")[1],r=Object(c.useState)([]),i=Object(s.a)(r,2),a=i[0],j=i[1];Object(c.useEffect)((function(){x.collection("tips").orderBy("createdAt","desc").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(g.a)({id:e.id},e.data())}));j(t)}))}),[]);for(var u=-1,b=!1,O=0;O<a.length;O++)a[O].id===n&&(u=O,b=!0);var h=function(){var e=Object(l.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you Sure to delete tips?")){e.next=8;break}return e.next=4,x.doc("tips/".concat(a[u].id)).delete();case 4:if(""===a[u].attachmentUrl){e.next=7;break}return e.next=7,f.refFromURL(a[u].attachmentUrl).delete();case 7:window.location.assign("");case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("nav",{children:Object(m.jsx)("ul",{children:Object(m.jsx)("li",{children:Object(m.jsx)(o.b,{to:"/community",children:"Go Back"})})})}),Object(m.jsx)("div",{children:b&&Object(m.jsxs)(m.Fragment,{children:[a[u].creatorId===t.uid&&Object(m.jsx)("button",{onClick:h,children:"Delete"}),Object(m.jsx)("h4",{children:a[u].title}),Object(m.jsx)("p",{children:a[u].text}),""!==a[u].attachmentUrl&&Object(m.jsx)("img",{alt:"modal",src:a[u].attachmentUrl,height:"70px",width:"70px"})]})})]})},q=function(e){var t=e.userObj,n=window.location.href.split("?id=")[1],r=Object(c.useState)([]),i=Object(s.a)(r,2),a=i[0],j=i[1];Object(c.useEffect)((function(){x.collection("StoreItems").orderBy("createdAt","desc").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(g.a)({id:e.id},e.data())}));j(t)}))}),[]);var u=0,b=!1;try{for(var O=0;O<a.length;O++)a[O].id===n&&(b=!0,u=O)}catch(S){}var h,f=Object(c.useState)([]),p=Object(s.a)(f,2),v=p[0],w=p[1];Object(c.useEffect)((function(){x.collection("users").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(g.a)({id:e.id},e.data())}));w(t)}))}),[]);for(var k=0;k<v.length;k++)if(v[k].id===t.uid){h=v[k];break}var y=function(){var e=Object(l.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(h.point>=a[u].price)){e.next=12;break}if(a[u].creatorId!==t.uid){e.next=6;break}alert("\uc790\uc2e0\uc758 \uc0c1\ud488\uc740 \uad6c\ub9e4\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."),window.location.assign(""),e.next=10;break;case 6:return alert("\ud14c\uc2a4\ud2b8\uae30\uac04\uc785\ub2c8\ub2e4. \uc0c1\ud488\uc740 \ubc30\uc1a1\ub418\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4. (\uc720\uc800 \ud3ec\uc778\ud2b8 \ubc0f \ud574\ub2f9 \uc0c1\ud488\uc740 \uc0ac\ub77c\uc9d1\ub2c8\ub2e4)"),e.next=9,x.doc("users/".concat(t.uid)).update({point:h.point-a[u].price});case 9:window.location.assign("");case 10:e.next=14;break;case 12:alert("\ud3ec\uc778\ud2b8\uac00 \ubd80\uc871\ud569\ub2c8\ub2e4."),window.location.assign("");case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("nav",{children:Object(m.jsx)("ul",{children:Object(m.jsx)("li",{children:Object(m.jsx)(o.b,{to:"/store",children:"Go Back"})})})}),Object(m.jsx)("div",{children:b&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("h4",{children:a[u].title}),Object(m.jsx)("p",{children:a[u].text}),""!==a[u].attachmentUrl&&Object(m.jsx)("img",{alt:"StoreModal",src:a[u].attachmentUrl}),Object(m.jsx)("p",{children:a[u].price+" point"}),Object(m.jsx)("button",{onClick:y,children:"BUY"})]})})]})},J=function(e){var t,n=e.userObj,c=window.location.href.split("?id=")[1],r=Object(y.useState)([]),i=Object(s.a)(r,2),a=i[0],j=i[1];Object(y.useEffect)((function(){x.collection("Checking").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(g.a)({id:e.id},e.data())}));j(t)}))}),[]);var u=!1;try{for(var b=0;b<a.length;b++)if(a[b].id===c){t=a[b],u=!0;break}}catch(w){}var O=Object(y.useState)(""),h=Object(s.a)(O,2),f=h[0],p=h[1],v=function(){var e=Object(l.a)(d.a.mark((function e(c){var r,i,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(""!==f&&f>=0&&f<10)){e.next=12;break}return c.preventDefault(),r=Number(t.people)+Number(1),i=Number(t.sum)+Number(f),(a=t.who).push(n.uid),e.next=8,x.doc("Checking/".concat(t.id)).update({people:r,sum:i,who:a});case 8:p(0),window.location.assign(""),e.next=14;break;case 12:p(0),alert("\uc22b\uc790\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694");case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(o.b,{to:"/mission",children:"back"}),u&&Object(m.jsx)("div",{children:t.text}),Object(m.jsxs)("form",{onSubmit:v,children:[Object(m.jsx)("input",{type:"text",value:f,onKeyDown:function(e){return e.key>=0&&e.key<=9},onChange:function(e){var t=e.target.value;f>10&&(t=9,alert("10\ubcf4\ub2e4 \uc791\uc740 \uc218\ub85c \uc785\ub825\ud574\uc8fc\uc138\uc694")),p(t)},maxLength:1,placeholder:"0~9 \uc0ac\uc774\ub85c \uc785\ub825\ud574\uc8fc\uc138\uc694"}),Object(m.jsx)("input",{type:"submit",value:"Up"})]})]})},K=function(e){var t=e.isLoggedIn,n=e.userObj,r=Object(c.useState)(!1),i=Object(s.a)(r,2),a=i[0],u=i[1],d=["profile","store","mission","community","master","verify","modal","storeitem","evalute","write"];return window.onhashchange=function(){for(var e=window.location.href,t=0,n=0;n<d.length;n++)if(-1!==e.indexOf(d[n])){t+=1;break}u(t>0)},Object(m.jsxs)(o.a,{children:[t&&Object(m.jsx)(m.Fragment,{children:a?Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(F,{})}):Object(m.jsx)(m.Fragment,{})}),Object(m.jsx)(j.d,{children:t?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(j.b,{exact:!0,path:"/",children:Object(m.jsx)(k,{userObj:n})}),Object(m.jsx)(j.b,{exact:!0,path:"/profile",children:Object(m.jsx)(C,{userObj:n})}),Object(m.jsx)(j.b,{exact:!0,path:"/store",children:Object(m.jsx)(L,{userObj:n})}),Object(m.jsx)(j.b,{exact:!0,path:"/mission",children:Object(m.jsx)(A,{userObj:n})}),Object(m.jsx)(j.b,{exact:!0,path:"/community",children:Object(m.jsx)(G,{userObj:n,isLoggedIn:t})}),Object(m.jsx)(j.b,{exact:!0,path:"/community/write",children:Object(m.jsx)(P,{userObj:n})}),Object(m.jsx)(j.b,{exact:!0,path:"/store/item",children:Object(m.jsx)(W,{userObj:n})}),Object(m.jsx)(j.b,{exact:!0,path:"/master",children:Object(m.jsx)(z,{userObj:n})}),Object(m.jsx)(j.b,{path:"/verify",children:Object(m.jsx)(Z,{userObj:n})}),Object(m.jsx)(j.b,{path:"/modal",children:Object(m.jsx)(Q,{userObj:n})}),Object(m.jsx)(j.b,{path:"/storeitem",children:Object(m.jsx)(q,{userObj:n})}),Object(m.jsx)(j.b,{path:"/evalute",children:Object(m.jsx)(J,{userObj:n})}),Object(m.jsx)(j.a,{from:"*",to:"/"})]}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(j.b,{exact:!0,path:"/",children:Object(m.jsx)(B,{})}),Object(m.jsx)(j.a,{from:"*",to:"/"}),Object(m.jsx)(j.b,{exact:!0,path:"/auth",children:Object(m.jsx)(v,{})})]})})]})};var _=function(){var e=Object(c.useState)(!1),t=Object(s.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)(!1),a=Object(s.a)(i,2),o=a[0],j=a[1],u=Object(c.useState)(null),d=Object(s.a)(u,2),l=d[0],b=d[1];return Object(c.useEffect)((function(){h.onAuthStateChanged((function(e){e?(j(!0),b(e)):j(!1),r(!0)}))}),[]),Object(m.jsx)(m.Fragment,{children:n?Object(m.jsx)(K,{isLoggedIn:o,userObj:l}):"Initializing"})};a.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(_,{})}),document.getElementById("root"))}},[[75,1,2]]]);
//# sourceMappingURL=main.23a46b4f.chunk.js.map