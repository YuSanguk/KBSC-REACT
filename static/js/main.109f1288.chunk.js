(this.webpackJsonpclean=this.webpackJsonpclean||[]).push([[0],{73:function(e,t,n){},75:function(e,t,n){},83:function(e,t,n){},84:function(e,t,n){},92:function(e,t,n){},93:function(e,t,n){"use strict";n.r(t);var c=n(8),r=n.n(c),i=n(44),a=n.n(i),s=n(14),o=n(16),j=n(19),l=n(1),u=n.n(l),d=n(3),b=n(39);n(70),n(95),n(94);b.a.initializeApp({apiKey:"AIzaSyCqDlhr3ak33rmoz2-H1QNagnDRsH0P5kQ",authDomain:"kbsc-project-new-react-ver.firebaseapp.com",projectId:"kbsc-project-new-react-ver",storageBucket:"kbsc-project-new-react-ver.appspot.com",messagingSenderId:"1050253154774",appId:"1:1050253154774:web:305081fefe19aa22bc6c77",measurementId:"G-V6CS889SLF"});var O=b.a,h=b.a.auth(),x=b.a.firestore(),f=b.a.storage(),p=(n(73),n(35)),m=n(2),v=function(){var e=function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"google"===t.target.name&&(n=new O.auth.GoogleAuthProvider),e.prev=2,e.next=5,h.signInWithPopup(n);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{className:"login-container",children:[Object(m.jsx)(p.a,{className:"login-back",onClick:function(){window.location.assign("")}}),Object(m.jsxs)("div",{className:"login-button-container",children:[Object(m.jsx)("p",{children:"\ubc84\ud2bc\uc744 \ub20c\ub800\ub294\ub370 \ub85c\uadf8\uc778 \ucc3d\uc774 \ub728\uc9c0 \uc54a\ub294\ub2e4\uba74 5\ucd08\uc815\ub3c4 \uae30\ub2e4\ub9b0\ub4a4 \ub2e4\uc2dc \ub20c\ub7ec\uc8fc\uc138\uc694."}),Object(m.jsxs)("button",{onClick:e,name:"google",className:"login-icon",children:[Object(m.jsx)(p.b,{className:"login-google-icon"}),Object(m.jsx)("span",{children:"Sign In Google"})]})]})]})})},g=n(17),w=n(60),k=n.n(w),y=(n(75),n(32)),S=function(e){var t=e.userObj,n=Object(c.useState)(!1),r=Object(s.a)(n,2),i=r[0],a=r[1];try{var j=x.collection("users").doc(t.uid);j.get().then((function(e){if(e.exists)j.onSnapshot((function(e){}));else{var t=function(){for(var e=[],t=0;e.length<7;)t=Math.round(33*Math.random()+1),!1===e.includes(t)&&e.push(t);return e.sort((function(e,t){return e-t})),e}();j.set({point:0,clearMission:[],failedMission:[],checkMission:[],LimitAssignItem:3,missionList:t,recentlyEdit:Date.now(),createdAt:Date.now(),ReRoll:2})}}))}catch(w){window.location.assign("")}var l=0,u=t.displayName,d=Object(c.useState)([]),b=Object(s.a)(d,2),O=b[0],f=b[1];Object(c.useEffect)((function(){x.collection("users").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(g.a)({id:e.id},e.data())}));f(t)}))}),[]);try{for(var v=0;v<O.length;v++)O[v].id===t.uid&&(l=O[v].point)}catch(w){}return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:"home-Logo",children:[Object(m.jsx)("p",{children:"\uc9c0\uad6c\uc790\uad6c"}),Object(m.jsx)("p",{children:"ZIGUZAGU"})]}),Object(m.jsx)("div",{className:"home",children:Object(m.jsx)("nav",{children:Object(m.jsxs)("ul",{className:"home-nav",children:[Object(m.jsx)("li",{className:"home-first",children:Object(m.jsxs)(k.a,{isFlipped:i,flipDirection:"vertical",children:[Object(m.jsxs)("div",{onMouseEnter:function(){return a((function(e){return!e}))},className:"CardFront",children:[Object(m.jsx)("p",{children:"Display Left Time"}),Object(m.jsxs)("div",{className:"CardInfo",children:["On",Object(m.jsx)("br",{}),"Mouse"]})]}),Object(m.jsxs)("div",{onMouseLeave:function(){return a((function(e){return!e}))},className:"CardBack",children:[Object(m.jsx)("img",{src:t.photoURL,alt:"hi"}),Object(m.jsx)("p",{children:u+" \ub2d8\uc758 \ud3ec\uc778\ud2b8"}),Object(m.jsx)("p",{children:l+" Point"})]})]})}),Object(m.jsxs)("li",{onClick:function(){window.confirm("\ub85c\uadf8\uc544\uc6c3 \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")&&h.signOut()},children:[Object(m.jsx)(y.c,{}),Object(m.jsx)("p",{children:"LogOut"})]}),Object(m.jsx)("li",{children:Object(m.jsxs)(o.b,{to:"/mission",children:[Object(m.jsx)(p.d,{}),Object(m.jsx)("p",{children:"mission"})]})}),Object(m.jsx)("li",{children:Object(m.jsxs)(o.b,{to:"/community",children:[Object(m.jsx)(y.a,{}),Object(m.jsx)("p",{children:"Community"})]})}),Object(m.jsx)("li",{children:Object(m.jsxs)(o.b,{to:"/store",children:[Object(m.jsx)(y.d,{}),Object(m.jsx)("p",{children:"Store"})]})}),Object(m.jsx)("li",{children:Object(m.jsxs)(o.b,{to:"/profile",children:[Object(m.jsx)(y.e,{}),Object(m.jsx)("p",{children:"History"})]})})]})})})]})},C=function(e){var t=e.historyData;return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("li",{children:[Object(m.jsx)("p",{children:t.whatDid}),Object(m.jsx)("p",{children:t.createdAt})]})})},N=function(e){var t=e.userObj,n=Object(c.useState)([]),r=Object(s.a)(n,2),i=r[0],a=r[1];return Object(c.useEffect)((function(){x.collection("userHistory").orderBy("createdAt","desc").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(g.a)({id:e.id},e.data())}));a(t)}))}),[]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("p",{children:"UserHistory"}),i.map((function(e){return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("ul",{children:e.creatorId===t.uid&&Object(m.jsx)(C,{historyData:e},e.id)})})}))]})},F=(n(83),function(){return Object(m.jsx)("nav",{children:Object(m.jsxs)("ul",{className:"nav-nav",children:[Object(m.jsx)("li",{children:Object(m.jsx)(o.b,{to:"/",children:"Home"})}),Object(m.jsx)("li",{children:Object(m.jsx)(o.b,{to:"/profile",children:"History"})}),Object(m.jsx)("li",{children:Object(m.jsx)(o.b,{to:"/store",children:"Store"})}),Object(m.jsx)("li",{children:Object(m.jsx)(o.b,{to:"/mission",children:"Mission"})}),Object(m.jsx)("li",{children:Object(m.jsx)(o.b,{to:"/community",children:"Community "})})]})})}),I=function(e){var t=e.itemObj;return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(o.b,{to:"/storeitem?id="+t.id,children:Object(m.jsxs)("li",{children:[Object(m.jsx)("img",{alt:"img",src:t.attachmentUrl,width:"50px",height:"50px"}),Object(m.jsx)("p",{children:t.title}),Object(m.jsx)("p",{children:t.text}),Object(m.jsx)("p",{children:t.price+" point"})]})})})},L=function(e){var t=e.userObj,n=Object(c.useState)([]),r=Object(s.a)(n,2),i=r[0],a=r[1];Object(c.useEffect)((function(){x.collection("StoreItems").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(g.a)({id:e.id},e.data())}));a(t)}))}),[]);var j=[],l=Object(c.useState)([]),u=Object(s.a)(l,2),d=u[0],b=u[1];Object(c.useEffect)((function(){x.collection("users").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(g.a)({id:e.id},e.data())}));b(t)}))}),[]);try{for(var O=0;O<d.length;O++)if(d[O].id===t.uid){j=d[O];break}}catch(C){}var h=Object(c.useState)(!1),f=Object(s.a)(h,2),p=f[0],v=f[1],w=Object(c.useState)(!1),k=Object(s.a)(w,2),y=k[0],S=k[1];return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("p",{children:["\uc0c1\ud488\ub4f1\ub85d\uad8c : ",j.LimitAssignItem," / 3 "]}),Object(m.jsx)(o.b,{to:"/store/item",children:"Assign"}),Object(m.jsxs)("div",{children:[Object(m.jsx)("button",{onClick:function(){v((function(e){return!e})),!0===y&&S((function(e){return!e}))},children:p?"\ub0b4 \uc0c1\ud488":"\ubaa8\ub4e0 \uc0c1\ud488"}),Object(m.jsx)("button",{onClick:function(){S((function(e){return!e})),!0===p&&v((function(e){return!e}))},children:y?"\uad6c\ub9e4 \uac00\ub2a5":"\ubaa8\ub4e0 \uc0c1\ud488"}),Object(m.jsx)("ul",{children:i.map((function(e){return Object(m.jsx)(m.Fragment,{children:(!1===y&&!1===p||p&&e.creatorId===t.uid||!1===p&&y&&e.price<j.point)&&Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(I,{itemObj:e},e.id+"2")})})}))})]})]})},D=n(21),M=n(11),U=function(e){var t=e.missionCode,n=e.missions,c=e.userDb,r="\uc544\uc9c1\uc544\ubb34\uac83\ub3c4";c.checkMission.includes(t+1)?r="\uac80\ud1a0\uc911":c.clearMission.includes(t+1)?r="\uc644\ub8cc":c.failedMission.includes(t+1)&&(r="\uc2e4\ud328");return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("li",{children:[Object(m.jsx)("p",{children:n[t]}),"\uc544\uc9c1\uc544\ubb34\uac83\ub3c4"===r?Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(o.b,{to:"/verify?id="+t,children:Object(m.jsx)("p",{children:"\uc778\uc99d\ud558\uae30"})})}):Object(m.jsx)("p",{children:r})]})})},A=function(e){var t="/evalute?id="+e.mission.id;return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("li",{children:Object(m.jsx)(o.b,{to:t,children:"\ubbf8\uc158 \ud3c9\uac00\ud558\uae30"})})})},R=(n(84),function(e){var t=e.userObj,n=Object(c.useState)(""),r=Object(c.useState)(""),i=[],a=[],o=[],j=Object(c.useState)([]),l=Object(s.a)(j,2),b=l[0],O=l[1],h=Object(c.useState)([]),p=Object(s.a)(h,2),v=p[0],w=p[1];Object(c.useEffect)((function(){x.collection("users").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(g.a)({id:e.id},e.data())}));O(t)}))}),[]),Object(c.useEffect)((function(){x.collection("MissionList").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(g.a)({id:e.id},e.data())}));w(t)}))}),[]);try{r=v[0].mission;for(var k=0;k<b.length;k++)b[k].id===t.uid&&(n=b[k].missionList,o=b[k]);var y,S=Object(M.a)(n);try{for(S.s();!(y=S.n()).done;){var C=y.value;i.push(r[C-1]),a.push(C-1)}}catch(J){S.e(J)}finally{S.f()}}catch(K){}var N=Object(c.useState)(!1),F=Object(s.a)(N,2),I=F[0],L=F[1],R=Object(c.useState)(""),E=Object(s.a)(R,2),H=E[0],T=E[1],B=[];Object(c.useEffect)((function(){x.collection("Checking").orderBy("createdAt","desc").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(g.a)({id:e.id},e.data())}));T(t)}))}),[]);try{for(var G=function(e){if(H[e].creatorId!==t.uid&&!1===H[e].who.includes(t.uid))B.push(H[e]),!1===I&&L(!0);else if(H[e].creatorId===t.uid){var n=H[e].people,c=H[e].sum;if(o.recentlyEdit+1500<=Date.now())if(14<=c&&n>=3)(function(){var n=Object(d.a)(u.a.mark((function n(){var c,r,i,a,s;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:for(c=Number(H[e].missionCode)+1,r=o.clearMission,i=o.checkMission,!1===r.includes(c)&&r.push(c),a=0;a<i.length;a++)i[a]===c&&(i.splice(a,1),a--);return n.prev=5,s=Number(o.point),n.next=9,x.doc("users/".concat(t.uid)).update({checkMission:i,clearMission:r,point:s+50,recentlyEdit:Date.now()});case 9:return n.next=11,f.refFromURL(H[e].attachmentUrl).delete();case 11:return n.next=13,x.doc("Checking/".concat(H[e].id)).delete();case 13:n.next=17;break;case 15:n.prev=15,n.t0=n.catch(5);case 17:case"end":return n.stop()}}),n,null,[[5,15]])})));return function(){return n.apply(this,arguments)}})()();else if(14>c&&n>=3){(function(){var n=Object(d.a)(u.a.mark((function n(){var c,r,i,a;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:for(c=Number(H[e].missionCode)+1,r=o.failedMission,i=o.checkMission,!1===r.includes(c)&&r.push(c),a=0;a<i.length;a++)i.splice(a,1),a--;return n.prev=5,n.next=8,x.doc("users/".concat(t.uid)).update({checkMission:i,failedMission:r,recentlyEdit:Date.now()});case 8:return n.next=10,f.refFromURL(H[e].attachmentUrl).delete();case 10:return n.next=12,x.doc("Checking/".concat(H[e].id)).delete();case 12:n.next=16;break;case 14:n.prev=14,n.t0=n.catch(5);case 16:case"end":return n.stop()}}),n,null,[[5,14]])})));return function(){return n.apply(this,arguments)}})()()}}},P=0;P<H.length;P++)G(P)}catch(K){}var W=Number(o.ReRoll),Q=function(){var e=Object(d.a)(u.a.mark((function e(){var n,c,r,i,a,s,j,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(W>0)){e.next=17;break}for(n=o.missionList,c=o.checkMission,r=o.clearMission,i=o.failedMission,a=[].concat(Object(D.a)(c),Object(D.a)(r),Object(D.a)(i)),s=[],j=0;s.length<n.length-a.length;)j=Math.round(33*Math.random()+1),!1===s.includes(j)&&!1===a.includes(j)&&s.push(j);return(l=[].concat(s,Object(D.a)(a))).sort((function(e,t){return e-t})),e.next=13,x.doc("users/".concat(t.uid)).update({missionList:l,ReRoll:W-1});case 13:return e.next=15,x.collection("userHistory").add({creatorId:t.uid,createdAt:Date.now(),whatDid:"\ubbf8\uc158 \ubcc0\uacbd"});case 15:e.next=18;break;case 17:alert("\ub9ac\ub864\uad8c\uc774 \uc5c6\uc2b5\ub2c8\ub2e4");case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Z=Object(c.useState)(!0),_=Object(s.a)(Z,2),z=_[0],q=_[1];return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{className:"mission-Container",children:[Object(m.jsxs)("div",{className:"mission-Head",children:[Object(m.jsx)("p",{onClick:function(){q(!0)},className:z?"mission-select":null,children:"Mission"}),Object(m.jsx)("p",{onClick:function(){q(!1)},className:z?null:"mission-select",children:"Evalute"})]}),Object(m.jsxs)("div",{className:"mission-body",children:[z?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:"mission-middle-box",children:[Object(m.jsxs)("p",{children:["Mission Re:Roll : ",o.ReRoll," / 2"]}),Object(m.jsx)("button",{onClick:Q,children:"ReRoll"})]}),Object(m.jsx)("ul",{children:a.map((function(e){return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(U,{missionCode:e,missions:r,userDb:o},e)})}))})]}):Object(m.jsx)("ul",{className:"mission-eval",children:I?Object(m.jsx)(m.Fragment,{children:B.map((function(e){return Object(m.jsx)(A,{mission:e},e.id)}))}):Object(m.jsx)("li",{children:Object(m.jsx)("p",{className:"mission-no",children:'"\ubbf8\uc158\uc774 \uc5c6\uc2b5\ub2c8\ub2e4"'})})}),Object(m.jsx)("hr",{})]})]})})}),E=function(e){var t=e.nweetObj;return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{children:[Object(m.jsx)("h4",{children:t.title}),Object(m.jsx)("h4",{children:t.text}),t.attachmentUrl&&Object(m.jsx)("img",{alt:"tips",src:t.attachmentUrl,width:"50px",height:"50px"})]})})},H=function(e){var t=e.userObj,n=(e.isLoggedIn,Object(c.useState)([])),r=Object(s.a)(n,2),i=r[0],a=r[1];Object(c.useEffect)((function(){x.collection("tips").orderBy("createdAt","desc").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(g.a)({id:e.id},e.data())}));a(t)}))}),[]);var j="/modal?",l=Object(c.useState)(!1),b=Object(s.a)(l,2),O=b[0],h=b[1],f=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h((function(e){return!e}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{children:[Object(m.jsx)("button",{onClick:f,children:O?"\ub0b4 \uae00":"\ubaa8\ub4e0 \uae00"}),Object(m.jsx)("ul",{children:i.map((function(e){return Object(m.jsx)(m.Fragment,{children:O?Object(m.jsx)(m.Fragment,{children:e.creatorId===t.uid&&Object(m.jsx)("li",{children:Object(m.jsx)(o.b,{to:j+"id="+e.id,children:Object(m.jsx)(E,{nweetObj:e,isOwner:e.creatorId===t.uid},e.id)})},e.id)}):Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("li",{children:Object(m.jsx)(o.b,{to:j+"id="+e.id,children:Object(m.jsx)(E,{nweetObj:e,isOwner:e.creatorId===t.uid},e.id)})},e.id)})})}))})]})})},T=function(e){var t=e.userObj,n=e.isLoggedIn;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(o.b,{to:"/community/write",children:"Write"}),Object(m.jsx)(H,{userObj:t,isLoggedIn:n})]})},B=n(6),G=n(63),P=(n(92),n.p+"static/media/InfoVideo.543e2f2e.mp4"),W=n.p+"static/media/Info.be23573c.pdf",Q=function(){var e,t=Object(c.useState)(!0),n=Object(s.a)(t,2),r=n[0],i=n[1],a=Object(c.useState)(-1),j=Object(s.a)(a,2),l=j[0],u=j[1],d=[{main:"\ubbf8\uc158\uc73c\ub85c",text:"\ud658\uacbd\uc744 \uc9c0\ud0a4\ub294 \ud55c\uac78\uc74c \uc2e4\ucc9c\ud574 \ubcf4\uc138\uc694!"},{main:"\ucee4\ubba4\ub2c8\ud2f0\uc5d0\uc11c",text:"\ud658\uacbd\uc744 \uc9c0\ud0a4\ub294 \ubc29\ubc95\uc744 \uacf5\uc720\ud574 \ubcf4\uc138\uc694!"},{main:"\uc2a4\ud1a0\uc5b4\uc5d0\uc11c",text:"\ud658\uacbd \ubcf4\ud638\uc758 \uc99d\uac70\ub97c \uad6c\ub9e4\ud574 \ubcf4\uc138\uc694!"},{main:"QR\uc744 \ud1b5\ud574",text:"\uc9c0\uad6c\uc790\uad6c \uc571\uc744 \ub2e4\uc6b4\ubc1b\uc73c\uc138\uc694!"},{main:"\uc9c0\uad6c\uc790\uad6c\uc640 \ud568\uaed8\ud574\uc694",text:"\ub85c\uadf8\uc778\ud558\ub7ec\uac00\uae30"}];function b(e){G.scroller.scrollTo(e,{duration:1e3,delay:0,smooth:"easeInOutQuint"})}function O(e){-1===l?(i((function(e){return!e})),u(e)):l===e?(i((function(e){return!e})),u(-1)):u(e)}return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"landing-navigator",children:Object(m.jsxs)("ul",{children:[Object(m.jsx)("li",{onClick:function(){return b("landing-1")},children:"# MAIN"}),Object(m.jsx)("li",{onClick:function(){return b("landing-2")},children:"# WHY"}),Object(m.jsx)("li",{onClick:function(){return b("landing-3")},children:"# LET"}),Object(m.jsx)("li",{onClick:function(){return b("landing-4")},children:"# START"})]})}),Object(m.jsx)("div",{className:"landing-box",children:Object(m.jsxs)("div",{className:"landing-Logo",children:[Object(m.jsx)("p",{children:"\uc9c0\uad6c\uc790\uad6c"}),Object(m.jsx)("p",{children:"ZIGUZAGU"})]})}),Object(m.jsx)("div",{className:"landing-1",children:Object(m.jsx)("nav",{children:Object(m.jsxs)("ul",{className:"landing-nav",children:[Object(m.jsx)("li",{className:"landing-1-video",children:r?Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("video",{preload:"true",loop:!0,autoPlay:!0,children:[Object(m.jsx)("source",{src:P,type:"video/mp4"}),"good"]})}):Object(m.jsx)(m.Fragment,{children:4===l?Object(m.jsxs)("div",{children:[Object(m.jsx)("h1",{children:d[l].main}),Object(m.jsx)("p",{className:"landing-toLogin",children:Object(m.jsx)(o.b,{to:"/auth",children:d[l].text})})]}):Object(m.jsxs)("div",{children:[Object(m.jsx)("h1",{children:d[l].main}),Object(m.jsx)("p",{children:d[l].text})]})})}),Object(m.jsxs)("li",{onClick:function(){return O(4)},children:[Object(m.jsx)(y.b,{}),Object(m.jsx)("p",{children:"Login"})]}),Object(m.jsxs)("li",{onClick:function(){return O(0)},children:[Object(m.jsx)(p.d,{}),Object(m.jsx)("p",{children:"mission"})]}),Object(m.jsxs)("li",{onClick:function(){return O(1)},children:[Object(m.jsx)(y.a,{}),Object(m.jsx)("p",{children:"Community"})]}),Object(m.jsxs)("li",{onClick:function(){return O(2)},children:[Object(m.jsx)(y.d,{}),Object(m.jsx)("p",{children:"Store"})]}),Object(m.jsxs)("li",{onClick:function(){return O(3)},children:[Object(m.jsx)(p.c,{}),Object(m.jsx)("p",{children:"QR Code"})]})]})})}),Object(m.jsx)("div",{className:"landing-2",children:Object(m.jsxs)("div",{className:"landing-2-container",children:[Object(m.jsx)("p",{children:"\uc783\uc5b4\ubc84\ub9b0 \ud478\ub978\uc0c9\uc758 \uc9c0\uad6c\ub97c"}),Object(m.jsx)("p",{children:"\ub2e4\uc2dc \ub418\ucc3e\uae30 \uc704\ud574 \uc0dd\uac01\ud574 \ubcf4\uc558\uc2b5\ub2c8\ub2e4"})]})}),Object(m.jsx)("div",{className:"landing-3",children:Object(m.jsxs)("div",{className:"landing-3-container",children:[Object(m.jsx)("p",{children:"LoremIpsum is"}),Object(m.jsx)("p",{children:"placeholder text commonly used"})]})}),Object(m.jsx)("div",{className:"landing-4",children:Object(m.jsxs)("div",{className:"landing-4-container",children:[Object(m.jsx)("p",{children:"LoremIpsum is"}),Object(m.jsx)("p",{children:"placeholder text commonly used"})]})}),Object(m.jsxs)("footer",{className:"landing-footer",children:[Object(m.jsx)("p",{children:"\uc9c0\uad6c\uc790\uad6c"}),Object(m.jsx)("a",(e={href:W,target:"_blank",rel:"noopener noreferrer"},Object(B.a)(e,"target","_blank"),Object(B.a)(e,"children","\uac1c\uc778\uc815\ubcf4\ucc98\ub9ac\ubc29\uce68"),e))]})]})},Z=n(96),_=function(e){var t=e.userObj,n=Object(c.useState)(""),r=Object(s.a)(n,2),i=r[0],a=r[1],o=Object(c.useState)(""),j=Object(s.a)(o,2),l=j[0],b=j[1],O=Object(c.useState)(""),h=Object(s.a)(O,2),p=h[0],v=h[1],g=function(){var e=Object(d.a)(u.a.mark((function e(n){var c,r,a,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==l&&""!==i){e.next=3;break}e.next=21;break;case 3:if(n.preventDefault(),c="",""===p){e.next=13;break}return r=f.ref().child("tips/".concat(Object(Z.a)())),e.next=9,r.putString(p,"data_url");case 9:return a=e.sent,e.next=12,a.ref.getDownloadURL();case 12:c=e.sent;case 13:return s={title:i,text:l,createdAt:Date.now(),creatorId:t.uid,attachmentUrl:c},e.next=16,x.collection("tips").add(s);case 16:return e.next=18,x.collection("userHistory").add({creatorId:t.uid,createdAt:Date.now(),whatDid:"WriteTip"});case 18:b(""),v(""),window.location.assign("");case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsxs)("form",{onSubmit:g,children:[Object(m.jsx)("input",{value:i,onChange:function(e){var t=e.target.value;a(t)},type:"text",placeholder:"Title",maxLength:30}),Object(m.jsx)("input",{value:l,onChange:function(e){var t=e.target.value;b(t)},type:"text",placeholder:"What?",maxLength:120}),Object(m.jsx)("input",{type:"file",onChange:function(e){var t=e.target.files[0],n=new FileReader;n.onloadend=function(e){var t=e.currentTarget.result;v(t)},n.readAsDataURL(t)},accept:"image/*"}),Object(m.jsx)("input",{type:"submit",value:"Up"}),p&&Object(m.jsxs)("div",{children:[Object(m.jsx)("img",{src:p,alt:"write",width:"50px",height:"50px"}),Object(m.jsx)("button",{onClick:function(){return v("")},children:"Clear"})]})]})},z=function(e){var t=e.userObj,n=Object(c.useState)(""),r=Object(s.a)(n,2),i=r[0],a=r[1],o=Object(c.useState)(""),j=Object(s.a)(o,2),l=j[0],b=j[1],O=Object(c.useState)(""),h=Object(s.a)(O,2),p=h[0],v=h[1],w=[],k=Object(c.useState)([]),y=Object(s.a)(k,2),S=y[0],C=y[1];Object(c.useEffect)((function(){x.collection("users").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(g.a)({id:e.id},e.data())}));C(t)}))}),[]);try{for(var N=0;N<S.length;N++)if(S[N].id===t.uid){w=S[N];break}}catch(U){}w.LimitAssignItem<=0&&(alert("\uc0c1\ud488 \ub4f1\ub85d\uad8c\uc774 \uc5c6\uc2b5\ub2c8\ub2e4!"),window.location.assign(""));var F=function(){var e=Object(d.a)(u.a.mark((function e(n){var c,r,a,s,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==l&&""!==i){e.next=3;break}e.next=24;break;case 3:if(n.preventDefault(),c="",""===p){e.next=13;break}return r=f.ref().child("tips/".concat(Object(Z.a)())),e.next=9,r.putString(p,"data_url");case 9:return a=e.sent,e.next=12,a.ref.getDownloadURL();case 12:c=e.sent;case 13:return s={title:i,text:l,createdAt:Date.now(),creatorId:t.uid,attachmentUrl:c,price:D},e.next=16,x.collection("StoreItems").add(s);case 16:return e.next=18,x.collection("userHistory").add({creatorId:t.uid,createdAt:Date.now(),whatDid:"\uc0c1\ud488 \ub4f1\ub85d"});case 18:return o=Number(w.LimitAssignItem)-1,e.next=21,x.doc("users/".concat(t.uid)).update({LimitAssignItem:o});case 21:b(""),v(""),window.location.assign("");case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=Object(c.useState)(""),L=Object(s.a)(I,2),D=L[0],M=L[1];return Object(m.jsxs)("form",{onSubmit:F,children:[Object(m.jsx)("input",{value:i,onChange:function(e){var t=e.target.value;a(t)},type:"text",placeholder:"Title",maxLength:30}),Object(m.jsx)("input",{value:l,onChange:function(e){var t=e.target.value;b(t)},type:"text",placeholder:"What?",maxLength:120}),Object(m.jsx)("input",{type:"text",value:D,onKeyDown:function(e){return e.key>=0&&e.key<=9},onChange:function(e){var t=e.target.value;try{M(Number(t))}catch(U){alert("\uc22b\uc790\ub9cc \uc785\ub825\ud574\uc8fc\uc138\uc694"),M()}},placeholder:"Point \uac00\uaca9"}),Object(m.jsx)("input",{type:"file",onChange:function(e){var t=e.target.files[0],n=new FileReader;n.onloadend=function(e){var t=e.currentTarget.result;v(t)},n.readAsDataURL(t)},accept:"image/*"}),Object(m.jsx)("input",{type:"submit",value:"Up"}),p&&Object(m.jsxs)("div",{children:[Object(m.jsx)("img",{src:p,alt:"write",width:"50px",height:"50px"}),Object(m.jsx)("button",{onClick:function(){return v("")},children:"Clear"})]})]})},q=function(e){"rPG81P80MydSfqia3UsTJv2zqSZ2"===e.userObj.uid||window.location.assign("");var t=Object(c.useState)(""),n=Object(s.a)(t,2),r=n[0],i=n[1],a=function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=r.split(","),e.next=4,x.collection("MissionList").doc("a").set({mission:n});case 4:i("");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("div",{children:Object(m.jsxs)("form",{onSubmit:a,children:[Object(m.jsx)("input",{type:"text",value:r,onChange:function(e){var t=e.target.value;i(t)},placeholder:"\ubbf8\uc158 \uc785\ub825, ','\ub85c \uad6c\ubd84"}),Object(m.jsx)("input",{type:"submit",value:"submit"})]})})})},J=function(e){var t=e.userObj,n=window.location.href.split("?id=")[1],r="",i=(Object(c.useState)(""),Object(c.useState)([])),a=Object(s.a)(i,2),o=a[0],j=a[1];Object(c.useEffect)((function(){x.collection("MissionList").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(g.a)({id:e.id},e.data())}));j(t)}))}),[]);try{r=o[0].mission[n]}catch(D){}var l,b=Object(c.useState)(""),O=Object(s.a)(b,2),h=O[0],p=O[1];try{Object(c.useEffect)((function(){x.collection("users").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(g.a)({id:e.id},e.data())}));p(t)}))}),[]);for(var v=0;v<h.length;v++)if(h[v].id===t.uid){!1===(l=h[v].checkMission).includes(Number(n)+1)&&l.push(Number(n)+1);break}}catch(D){}var w=Object(c.useState)(""),k=Object(s.a)(w,2),y=k[0],S=k[1],C=Object(c.useState)(""),N=Object(s.a)(C,2),F=N[0],I=N[1],L=function(){var e=Object(d.a)(u.a.mark((function e(c){var r,i,a,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==y){e.next=3;break}e.next=23;break;case 3:if(c.preventDefault(),r="",""===F){e.next=15;break}return i=f.ref().child("tips/".concat(Object(Z.a)())),e.next=9,i.putString(F,"data_url");case 9:return a=e.sent,e.next=12,a.ref.getDownloadURL();case 12:return r=e.sent,e.next=15,x.collection("userHistory").add({creatorId:t.uid,createdAt:Date.now(),whatDid:"\ubbf8\uc158 \uc778\uc99d \uc2e0\uccad"});case 15:return s={people:0,sum:0,text:y,createdAt:Date.now(),creatorId:t.uid,missionCode:n,attachmentUrl:r,who:[]},e.next=18,x.collection("Checking").add(s);case 18:return e.next=20,x.doc("users/".concat(t.uid)).update({checkMission:l});case 20:S(""),I(""),window.location.assign("");case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("p",{children:"\ubbf8\uc158 - "+r}),Object(m.jsxs)("form",{onSubmit:L,children:[Object(m.jsx)("input",{onChange:function(e){var t=e.target.value;S(t)},type:"text",placeholder:"Input Text"}),Object(m.jsx)("input",{type:"file",onChange:function(e){var t=e.target.files[0],n=new FileReader;n.onloadend=function(e){var t=e.currentTarget.result;I(t)},n.readAsDataURL(t)},accept:"image/*"}),Object(m.jsx)("input",{type:"submit",value:"\uc778\uc99d \uc2e0\uccad"})]}),F&&Object(m.jsxs)("div",{children:[Object(m.jsx)("img",{src:F,alt:"write",width:"50px",height:"50px"}),Object(m.jsx)("button",{onClick:function(){return I("")},children:"Clear"})]})]})},K=function(e){var t=e.userObj,n=window.location.href.split("?id=")[1],r=Object(c.useState)([]),i=Object(s.a)(r,2),a=i[0],j=i[1];Object(c.useEffect)((function(){x.collection("tips").orderBy("createdAt","desc").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(g.a)({id:e.id},e.data())}));j(t)}))}),[]);for(var l=-1,b=!1,O=0;O<a.length;O++)a[O].id===n&&(l=O,b=!0);var h=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you Sure to delete tips?")){e.next=8;break}return e.next=4,x.doc("tips/".concat(a[l].id)).delete();case 4:if(""===a[l].attachmentUrl){e.next=7;break}return e.next=7,f.refFromURL(a[l].attachmentUrl).delete();case 7:window.location.assign("");case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("nav",{children:Object(m.jsx)("ul",{children:Object(m.jsx)("li",{children:Object(m.jsx)(o.b,{to:"/community",children:"Go Back"})})})}),Object(m.jsx)("div",{children:b&&Object(m.jsxs)(m.Fragment,{children:[a[l].creatorId===t.uid&&Object(m.jsx)("button",{onClick:h,children:"Delete"}),Object(m.jsx)("h4",{children:a[l].title}),Object(m.jsx)("p",{children:a[l].text}),""!==a[l].attachmentUrl&&Object(m.jsx)("img",{alt:"modal",src:a[l].attachmentUrl,height:"70px",width:"70px"})]})})]})},V=function(e){var t=e.userObj,n=window.location.href.split("?id=")[1],r=Object(c.useState)([]),i=Object(s.a)(r,2),a=i[0],j=i[1];Object(c.useEffect)((function(){x.collection("StoreItems").orderBy("createdAt","desc").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(g.a)({id:e.id},e.data())}));j(t)}))}),[]);var l=0,b=!1;try{for(var O=0;O<a.length;O++)a[O].id===n&&(b=!0,l=O)}catch(S){}var h,f=Object(c.useState)([]),p=Object(s.a)(f,2),v=p[0],w=p[1];Object(c.useEffect)((function(){x.collection("users").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(g.a)({id:e.id},e.data())}));w(t)}))}),[]);for(var k=0;k<v.length;k++)if(v[k].id===t.uid){h=v[k];break}var y=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(h.point>=a[l].price)){e.next=12;break}if(a[l].creatorId!==t.uid){e.next=6;break}alert("\uc790\uc2e0\uc758 \uc0c1\ud488\uc740 \uad6c\ub9e4\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."),window.location.assign(""),e.next=10;break;case 6:return alert("\ud14c\uc2a4\ud2b8\uae30\uac04\uc785\ub2c8\ub2e4. \uc0c1\ud488\uc740 \ubc30\uc1a1\ub418\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4. (\uc720\uc800 \ud3ec\uc778\ud2b8 \ubc0f \ud574\ub2f9 \uc0c1\ud488\uc740 \uc0ac\ub77c\uc9d1\ub2c8\ub2e4)"),e.next=9,x.doc("users/".concat(t.uid)).update({point:h.point-a[l].price});case 9:window.location.assign("");case 10:e.next=14;break;case 12:alert("\ud3ec\uc778\ud2b8\uac00 \ubd80\uc871\ud569\ub2c8\ub2e4."),window.location.assign("");case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("nav",{children:Object(m.jsx)("ul",{children:Object(m.jsx)("li",{children:Object(m.jsx)(o.b,{to:"/store",children:"Go Back"})})})}),Object(m.jsx)("div",{children:b&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("h4",{children:a[l].title}),Object(m.jsx)("p",{children:a[l].text}),""!==a[l].attachmentUrl&&Object(m.jsx)("img",{alt:"StoreModal",src:a[l].attachmentUrl}),Object(m.jsx)("p",{children:a[l].price+" point"}),Object(m.jsx)("button",{onClick:y,children:"BUY"})]})})]})},Y=function(e){var t,n=e.userObj,r=window.location.href.split("?id=")[1],i=Object(c.useState)([]),a=Object(s.a)(i,2),j=a[0],l=a[1];Object(c.useEffect)((function(){x.collection("Checking").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(g.a)({id:e.id},e.data())}));l(t)}))}),[]);var b=!1;try{for(var O=0;O<j.length;O++)if(j[O].id===r){t=j[O],b=!0;break}}catch(k){}var h=Object(c.useState)(""),f=Object(s.a)(h,2),p=f[0],v=f[1],w=function(){var e=Object(d.a)(u.a.mark((function e(c){var r,i,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(""!==p&&p>=0&&p<10)){e.next=14;break}return c.preventDefault(),r=Number(t.people)+Number(1),i=Number(t.sum)+Number(p),(a=t.who).push(n.uid),e.next=8,x.doc("Checking/".concat(t.id)).update({people:r,sum:i,who:a});case 8:return e.next=10,x.collection("userHistory").add({creatorId:n.uid,createdAt:Date.now(),whatDid:"\ubbf8\uc158 \ud3c9\uac00"});case 10:v(0),window.location.assign(""),e.next=16;break;case 14:v(0),alert("\uc22b\uc790\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694");case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(o.b,{to:"/mission",children:"back"}),b&&Object(m.jsx)("div",{children:t.text}),Object(m.jsxs)("form",{onSubmit:w,children:[Object(m.jsx)("input",{type:"text",value:p,onKeyDown:function(e){return e.key>=0&&e.key<=9},onChange:function(e){var t=e.target.value;p>10&&(t=9,alert("10\ubcf4\ub2e4 \uc791\uc740 \uc218\ub85c \uc785\ub825\ud574\uc8fc\uc138\uc694")),v(t)},maxLength:1,placeholder:"0~9 \uc0ac\uc774\ub85c \uc785\ub825\ud574\uc8fc\uc138\uc694"}),Object(m.jsx)("input",{type:"submit",value:"Up"})]})]})},X=function(e){var t=e.isLoggedIn,n=e.userObj,r=Object(c.useState)(!1),i=Object(s.a)(r,2),a=i[0],l=i[1],u=["profile","store","mission","community","master","verify","modal","storeitem","evalute","write"];return window.onhashchange=function(){for(var e=window.location.href,t=0,n=0;n<u.length;n++)if(-1!==e.indexOf(u[n])){t+=1;break}l(t>0)},Object(m.jsxs)(o.a,{children:[t&&Object(m.jsx)(m.Fragment,{children:a?Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(F,{})}):Object(m.jsx)(m.Fragment,{})}),Object(m.jsx)(j.d,{children:Object(m.jsx)(m.Fragment,{children:t?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(j.b,{exact:!0,path:"/",children:Object(m.jsx)(S,{userObj:n})}),Object(m.jsx)(j.b,{exact:!0,path:"/profile",children:Object(m.jsx)(N,{userObj:n})}),Object(m.jsx)(j.b,{exact:!0,path:"/store",children:Object(m.jsx)(L,{userObj:n})}),Object(m.jsx)(j.b,{exact:!0,path:"/mission",children:Object(m.jsx)(R,{userObj:n})}),Object(m.jsx)(j.b,{exact:!0,path:"/community",children:Object(m.jsx)(T,{userObj:n,isLoggedIn:t})}),Object(m.jsx)(j.b,{exact:!0,path:"/community/write",children:Object(m.jsx)(_,{userObj:n})}),Object(m.jsx)(j.b,{exact:!0,path:"/store/item",children:Object(m.jsx)(z,{userObj:n})}),Object(m.jsx)(j.b,{exact:!0,path:"/master",children:Object(m.jsx)(q,{userObj:n})}),Object(m.jsx)(j.b,{path:"/verify",children:Object(m.jsx)(J,{userObj:n})}),Object(m.jsx)(j.b,{path:"/modal",children:Object(m.jsx)(K,{userObj:n})}),Object(m.jsx)(j.b,{path:"/storeitem",children:Object(m.jsx)(V,{userObj:n})}),Object(m.jsx)(j.b,{path:"/evalute",children:Object(m.jsx)(Y,{userObj:n})}),Object(m.jsx)(j.a,{from:"*",to:"/"})]}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(j.b,{exact:!0,path:"/",children:Object(m.jsx)(Q,{})}),Object(m.jsx)(j.a,{from:"*",to:"/"}),Object(m.jsx)(j.b,{exact:!0,path:"/auth",children:Object(m.jsx)(v,{})})]})})})]})};var $=function(){var e=Object(c.useState)(!1),t=Object(s.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)(!1),a=Object(s.a)(i,2),o=a[0],j=a[1],l=Object(c.useState)(null),u=Object(s.a)(l,2),d=u[0],b=u[1];return Object(c.useEffect)((function(){h.onAuthStateChanged((function(e){e?(j(!0),b(e)):j(!1),r(!0)}))}),[]),Object(m.jsx)(m.Fragment,{children:n?Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(X,{isLoggedIn:o,userObj:d})}):"\ub3d9\uae30\ud654 \uc911"})};a.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)($,{})}),document.getElementById("root"))}},[[93,1,2]]]);
//# sourceMappingURL=main.109f1288.chunk.js.map