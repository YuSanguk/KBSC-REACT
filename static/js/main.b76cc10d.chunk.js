(this.webpackJsonpclean=this.webpackJsonpclean||[]).push([[0],{58:function(e,t,n){},75:function(e,t,n){},77:function(e,t,n){},85:function(e,t,n){},86:function(e,t,n){},87:function(e,t,n){},88:function(e,t,n){},96:function(e,t,n){},97:function(e,t,n){"use strict";n.r(t);var c=n(8),r=n.n(c),i=n(41),s=n.n(i),a=n(14),o=n(16),j=n(19),l=n(1),u=n.n(l),d=n(3),b=n(39);n(72),n(99),n(98);b.a.initializeApp({apiKey:"AIzaSyCqDlhr3ak33rmoz2-H1QNagnDRsH0P5kQ",authDomain:"kbsc-project-new-react-ver.firebaseapp.com",projectId:"kbsc-project-new-react-ver",storageBucket:"kbsc-project-new-react-ver.appspot.com",messagingSenderId:"1050253154774",appId:"1:1050253154774:web:305081fefe19aa22bc6c77",measurementId:"G-V6CS889SLF"});var O=b.a,h=b.a.auth(),x=b.a.firestore(),f=b.a.storage(),p=(n(75),n(49)),m=n.p+"static/media/login.938b6670.webp",v=n(35),g=n(2),w=function(){var e=function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"google"===t.target.name&&(n=new O.auth.GoogleAuthProvider),e.prev=2,e.next=5,h.signInWithPopup(n);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("div",{className:"login-container",children:[Object(g.jsx)(p.LazyLoadImage,{alt:"login-background",width:"100%",height:"100%",effect:"blur",src:m}),Object(g.jsx)(v.a,{className:"login-back",onClick:function(){window.location.assign("")}}),Object(g.jsxs)("div",{className:"login-button-container",children:[Object(g.jsx)("p",{children:"\ubc84\ud2bc\uc744 \ub20c\ub800\ub294\ub370 \ub85c\uadf8\uc778 \ucc3d\uc774 \ub728\uc9c0 \uc54a\ub294\ub2e4\uba74 5\ucd08\uc815\ub3c4 \uae30\ub2e4\ub9b0\ub4a4 \ub2e4\uc2dc \ub20c\ub7ec\uc8fc\uc138\uc694."}),Object(g.jsxs)("button",{onClick:e,name:"google",className:"login-icon",children:[Object(g.jsx)(v.b,{className:"login-google-icon"}),Object(g.jsx)("span",{children:"Sign In Google"})]})]})]})})},k=n(17),y=n(62),S=n.n(y),C=(n(77),n(32)),N=function(e){var t=e.userObj,n=Object(c.useState)(!1),r=Object(a.a)(n,2),i=r[0],s=r[1];try{var j=x.collection("users").doc(t.uid);j.get().then((function(e){if(e.exists)j.onSnapshot((function(e){}));else{var t=function(){for(var e=[],t=0;e.length<7;)t=Math.round(33*Math.random()+1),!1===e.includes(t)&&e.push(t);return e.sort((function(e,t){return e-t})),e}();j.set({point:0,clearMission:[],failedMission:[],checkMission:[],LimitAssignItem:3,missionList:t,recentlyEdit:Date.now(),createdAt:Date.now(),ReRoll:2})}}))}catch(m){window.location.assign("")}var l=0,u=t.displayName,d=Object(c.useState)([]),b=Object(a.a)(d,2),O=b[0],f=b[1];Object(c.useEffect)((function(){x.collection("users").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(k.a)({id:e.id},e.data())}));f(t)}))}),[]);try{for(var p=0;p<O.length;p++)O[p].id===t.uid&&(l=O[p].point)}catch(m){}return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("div",{className:"home-Logo",children:[Object(g.jsx)("p",{children:"\uc9c0\uad6c\uc790\uad6c"}),Object(g.jsx)("p",{children:"ZIGUZAGU"})]}),Object(g.jsx)("div",{className:"home",children:Object(g.jsx)("nav",{children:Object(g.jsxs)("ul",{className:"home-nav",children:[Object(g.jsx)("li",{className:"home-first",children:Object(g.jsxs)(S.a,{isFlipped:i,flipDirection:"vertical",children:[Object(g.jsxs)("div",{onMouseEnter:function(){return s((function(e){return!e}))},className:"CardFront",children:[Object(g.jsx)("p",{children:"Display Left Time"}),Object(g.jsxs)("div",{className:"CardInfo",children:["On",Object(g.jsx)("br",{}),"Mouse"]})]}),Object(g.jsxs)("div",{onMouseLeave:function(){return s((function(e){return!e}))},className:"CardBack",children:[Object(g.jsx)("img",{src:t.photoURL,alt:"userPhoto"}),Object(g.jsx)("p",{children:u+" \ub2d8\uc758 \ud3ec\uc778\ud2b8"}),Object(g.jsx)("p",{children:l+" Point"})]})]})}),Object(g.jsxs)("li",{onClick:function(){window.confirm("\ub85c\uadf8\uc544\uc6c3 \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")&&h.signOut()},children:[Object(g.jsx)(C.c,{}),Object(g.jsx)("p",{children:"LogOut"})]}),Object(g.jsx)("li",{children:Object(g.jsxs)(o.b,{to:"/mission",children:[Object(g.jsx)(v.d,{}),Object(g.jsx)("p",{children:"mission"})]})}),Object(g.jsx)("li",{children:Object(g.jsxs)(o.b,{to:"/community",children:[Object(g.jsx)(C.a,{}),Object(g.jsx)("p",{children:"Community"})]})}),Object(g.jsx)("li",{children:Object(g.jsxs)(o.b,{to:"/store",children:[Object(g.jsx)(C.d,{}),Object(g.jsx)("p",{children:"Store"})]})}),Object(g.jsx)("li",{children:Object(g.jsxs)(o.b,{to:"/profile",children:[Object(g.jsx)(C.e,{}),Object(g.jsx)("p",{children:"History"})]})})]})})})]})},I=function(e){var t=e.historyData;return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("li",{children:[Object(g.jsx)("p",{children:t.whatDid}),Object(g.jsx)("p",{children:t.createdAt})]})})},F=(n(85),function(e){var t=e.userObj,n=Object(c.useState)([]),r=Object(a.a)(n,2),i=r[0],s=r[1];return Object(c.useEffect)((function(){x.collection("userHistory").orderBy("createdAt","desc").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(k.a)({id:e.id},e.data())}));s(t)}))}),[]),Object(g.jsxs)("div",{className:"UserHistory",children:[Object(g.jsx)("h2",{children:"UserHistory"}),Object(g.jsxs)("ul",{children:[i.map((function(e){return Object(g.jsx)(g.Fragment,{children:e.creatorId===t.uid&&Object(g.jsx)(I,{historyData:e},e.id)})})),Object(g.jsx)("hr",{})]})]})}),L=(n(86),function(){return Object(g.jsx)("nav",{children:Object(g.jsxs)("ul",{className:"nav-nav",children:[Object(g.jsx)("li",{children:Object(g.jsx)(o.b,{to:"/",children:"Home"})}),Object(g.jsx)("li",{children:Object(g.jsx)(o.b,{to:"/mission",children:"Mission"})}),Object(g.jsx)("li",{children:Object(g.jsx)(o.b,{to:"/store",children:"Store"})}),Object(g.jsx)("li",{children:Object(g.jsx)(o.b,{to:"/community",children:"Community "})}),Object(g.jsx)("li",{children:Object(g.jsx)(o.b,{to:"/profile",children:"History"})})]})})}),D=function(e){var t=e.itemObj;return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(o.b,{to:"/storeitem?id="+t.id,children:Object(g.jsxs)("li",{children:[t.attachmentUrl?Object(g.jsx)("img",{alt:"img",src:t.attachmentUrl,width:"50px",height:"50px"}):Object(g.jsx)(g.Fragment,{children:"None"}),Object(g.jsx)("p",{children:t.title}),Object(g.jsx)("p",{children:t.price+" point"})]})})})},M=(n(87),function(e){var t=e.userObj,n=Object(c.useState)([]),r=Object(a.a)(n,2),i=r[0],s=r[1];Object(c.useEffect)((function(){x.collection("StoreItems").orderBy("createdAt","desc").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(k.a)({id:e.id},e.data())}));s(t)}))}),[]);var j=[],l=Object(c.useState)([]),u=Object(a.a)(l,2),d=u[0],b=u[1];Object(c.useEffect)((function(){x.collection("users").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(k.a)({id:e.id},e.data())}));b(t)}))}),[]);try{for(var O=0;O<d.length;O++)if(d[O].id===t.uid){j=d[O];break}}catch(C){}var h=Object(c.useState)(!1),f=Object(a.a)(h,2),p=f[0],m=f[1],v=Object(c.useState)(!1),w=Object(a.a)(v,2),y=w[0],S=w[1];return Object(g.jsxs)("div",{className:"store",children:[Object(g.jsx)("h2",{children:"STORE"}),Object(g.jsxs)("p",{children:["\uc0c1\ud488\ub4f1\ub85d\uad8c : ",j.LimitAssignItem," / 3 "]}),Object(g.jsxs)("div",{className:"store-head",children:[Object(g.jsx)(o.b,{to:"/store/item",children:"\uc0c1\ud488\ub4f1\ub85d\ud558\ub7ec \uac00\uae30"}),Object(g.jsxs)("div",{children:[Object(g.jsx)("button",{onClick:function(){m((function(e){return!e})),!0===y&&S((function(e){return!e}))},children:p?"\ub0b4 \uc0c1\ud488":"\ubaa8\ub4e0 \uc0c1\ud488"}),Object(g.jsx)("button",{onClick:function(){S((function(e){return!e})),!0===p&&m((function(e){return!e}))},children:y?"\uad6c\ub9e4 \uac00\ub2a5":"\ubaa8\ub4e0 \uc0c1\ud488"})]})]}),Object(g.jsxs)("ul",{children:[i.map((function(e){return Object(g.jsx)(g.Fragment,{children:(!1===y&&!1===p||p&&e.creatorId===t.uid||!1===p&&y&&e.price<j.point&&e.creatorId!==t.uid)&&Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(D,{itemObj:e},e.id+"2")})})})),Object(g.jsx)("hr",{})]})]})}),U=n(21),A=n(11),R=function(e){var t=e.missionCode,n=e.missions,c=e.userDb,r="\uc544\uc9c1\uc544\ubb34\uac83\ub3c4";c.checkMission.includes(t+1)?r="\uac80\ud1a0\uc911":c.clearMission.includes(t+1)?r="\uc644\ub8cc":c.failedMission.includes(t+1)&&(r="\uc2e4\ud328");return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("li",{children:[Object(g.jsx)("p",{children:n[t]}),"\uc544\uc9c1\uc544\ubb34\uac83\ub3c4"===r?Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(o.b,{to:"/verify?id="+t,children:Object(g.jsx)("p",{children:"\uc778\uc99d\ud558\uae30"})})}):Object(g.jsx)("p",{children:r})]})})},E=function(e){var t="/evalute?id="+e.mission.id;return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("li",{children:Object(g.jsx)(o.b,{to:t,children:"\ubbf8\uc158 \ud3c9\uac00\ud558\uae30"})})})},H=(n(88),function(e){var t=e.userObj,n=Object(c.useState)(""),r=Object(c.useState)(""),i=[],s=[],o=[],j=Object(c.useState)([]),l=Object(a.a)(j,2),b=l[0],O=l[1],h=Object(c.useState)([]),p=Object(a.a)(h,2),m=p[0],v=p[1];Object(c.useEffect)((function(){x.collection("users").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(k.a)({id:e.id},e.data())}));O(t)}))}),[]),Object(c.useEffect)((function(){x.collection("MissionList").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(k.a)({id:e.id},e.data())}));v(t)}))}),[]);try{r=m[0].mission;for(var w=0;w<b.length;w++)b[w].id===t.uid&&(n=b[w].missionList,o=b[w]);var y,S=Object(A.a)(n);try{for(S.s();!(y=S.n()).done;){var C=y.value;i.push(r[C-1]),s.push(C-1)}}catch(J){S.e(J)}finally{S.f()}}catch(K){}var N=Object(c.useState)(!1),I=Object(a.a)(N,2),F=I[0],L=I[1],D=Object(c.useState)(""),M=Object(a.a)(D,2),H=M[0],T=M[1],B=[];Object(c.useEffect)((function(){x.collection("Checking").orderBy("createdAt","desc").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(k.a)({id:e.id},e.data())}));T(t)}))}),[]);try{for(var G=function(e){if(H[e].creatorId!==t.uid&&!1===H[e].who.includes(t.uid))B.push(H[e]),!1===F&&L(!0);else if(H[e].creatorId===t.uid){var n=H[e].people,c=H[e].sum;if(o.recentlyEdit+1500<=Date.now())if(14<=c&&n>=3)(function(){var n=Object(d.a)(u.a.mark((function n(){var c,r,i,s,a;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:for(c=Number(H[e].missionCode)+1,r=o.clearMission,i=o.checkMission,!1===r.includes(c)&&r.push(c),s=0;s<i.length;s++)i[s]===c&&(i.splice(s,1),s--);return n.prev=5,a=Number(o.point),n.next=9,x.doc("users/".concat(t.uid)).update({checkMission:i,clearMission:r,point:a+50,recentlyEdit:Date.now()});case 9:return n.next=11,f.refFromURL(H[e].attachmentUrl).delete();case 11:return n.next=13,x.doc("Checking/".concat(H[e].id)).delete();case 13:n.next=17;break;case 15:n.prev=15,n.t0=n.catch(5);case 17:case"end":return n.stop()}}),n,null,[[5,15]])})));return function(){return n.apply(this,arguments)}})()();else if(14>c&&n>=3){(function(){var n=Object(d.a)(u.a.mark((function n(){var c,r,i,s;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:for(c=Number(H[e].missionCode)+1,r=o.failedMission,i=o.checkMission,!1===r.includes(c)&&r.push(c),s=0;s<i.length;s++)i.splice(s,1),s--;return n.prev=5,n.next=8,x.doc("users/".concat(t.uid)).update({checkMission:i,failedMission:r,recentlyEdit:Date.now()});case 8:return n.next=10,f.refFromURL(H[e].attachmentUrl).delete();case 10:return n.next=12,x.doc("Checking/".concat(H[e].id)).delete();case 12:n.next=16;break;case 14:n.prev=14,n.t0=n.catch(5);case 16:case"end":return n.stop()}}),n,null,[[5,14]])})));return function(){return n.apply(this,arguments)}})()()}}},P=0;P<H.length;P++)G(P)}catch(K){}var z=Number(o.ReRoll),W=function(){var e=Object(d.a)(u.a.mark((function e(){var n,c,r,i,s,a,j,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(z>0)){e.next=17;break}for(n=o.missionList,c=o.checkMission,r=o.clearMission,i=o.failedMission,s=[].concat(Object(U.a)(c),Object(U.a)(r),Object(U.a)(i)),a=[],j=0;a.length<n.length-s.length;)j=Math.round(33*Math.random()+1),!1===a.includes(j)&&!1===s.includes(j)&&a.push(j);return(l=[].concat(a,Object(U.a)(s))).sort((function(e,t){return e-t})),e.next=13,x.doc("users/".concat(t.uid)).update({missionList:l,ReRoll:z-1});case 13:return e.next=15,x.collection("userHistory").add({creatorId:t.uid,createdAt:Date.now(),whatDid:"\ubbf8\uc158 \ubcc0\uacbd"});case 15:e.next=18;break;case 17:alert("\ub9ac\ub864\uad8c\uc774 \uc5c6\uc2b5\ub2c8\ub2e4");case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Q=Object(c.useState)(!0),Z=Object(a.a)(Q,2),_=Z[0],q=Z[1];return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("div",{className:"mission-Container",children:[Object(g.jsx)("h2",{children:"Mission"}),Object(g.jsxs)("div",{className:"mission-Head",children:[Object(g.jsx)("p",{onClick:function(){q(!0)},className:_?"mission-select":null,children:"Mission"}),Object(g.jsx)("p",{onClick:function(){q(!1)},className:_?null:"mission-select",children:"Evalute"})]}),Object(g.jsxs)("div",{className:"mission-body",children:[_?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("div",{className:"mission-middle-box",children:[Object(g.jsxs)("p",{children:["Mission Re:Roll : ",o.ReRoll," / 2"]}),Object(g.jsx)("button",{onClick:W,children:"ReRoll"})]}),Object(g.jsx)("ul",{children:s.map((function(e){return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(R,{missionCode:e,missions:r,userDb:o},e)})}))})]}):Object(g.jsx)("ul",{className:"mission-eval",children:F?Object(g.jsx)(g.Fragment,{children:B.map((function(e){return Object(g.jsx)(E,{mission:e},e.id)}))}):Object(g.jsx)("li",{children:Object(g.jsx)("p",{className:"mission-no",children:'"\ubbf8\uc158\uc774 \uc5c6\uc2b5\ub2c8\ub2e4"'})})}),Object(g.jsx)("hr",{})]})]})})}),T=function(e){var t=e.nweetObj;return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("div",{children:Object(g.jsx)("h4",{children:t.title})})})},B=(n(58),function(e){var t=e.userObj,n=Object(c.useState)([]),r=Object(a.a)(n,2),i=r[0],s=r[1];Object(c.useEffect)((function(){x.collection("tips").orderBy("createdAt","desc").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(k.a)({id:e.id},e.data())}));s(t)}))}),[]);var j="/modal?",l=Object(c.useState)(!1),b=Object(a.a)(l,2),O=b[0],h=b[1],f=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h((function(e){return!e}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("div",{className:"community-head",children:[Object(g.jsx)(o.b,{to:"/community/write",children:"Write"}),Object(g.jsx)("button",{onClick:f,children:O?"\ub0b4 \uae00":"\ubaa8\ub4e0 \uae00"})]}),Object(g.jsxs)("ul",{children:[i.map((function(e){return Object(g.jsx)(g.Fragment,{children:O?Object(g.jsx)(g.Fragment,{children:e.creatorId===t.uid&&Object(g.jsx)("li",{children:Object(g.jsx)(o.b,{to:j+"id="+e.id,children:Object(g.jsx)(T,{nweetObj:e,isOwner:e.creatorId===t.uid},e.id)})},e.id)}):Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("li",{children:Object(g.jsx)(o.b,{to:j+"id="+e.id,children:Object(g.jsx)(T,{nweetObj:e,isOwner:e.creatorId===t.uid},e.id)})},e.id)})})})),Object(g.jsx)("hr",{})]})]})}),G=function(e){var t=e.userObj,n=e.isLoggedIn;return Object(g.jsxs)("div",{className:"community-container",children:[Object(g.jsx)("h2",{children:"Community"}),Object(g.jsx)(B,{userObj:t,isLoggedIn:n})]})},P=n(6),z=n(65),W=(n(96),n.p+"static/media/InfoVideo.543e2f2e.mp4"),Q=n.p+"static/media/Info.be23573c.pdf",Z=n.p+"static/media/main-i.8c4df54e.webp",_=function(){var e,t=Object(c.useState)(!0),n=Object(a.a)(t,2),r=n[0],i=n[1],s=Object(c.useState)(-1),j=Object(a.a)(s,2),l=j[0],u=j[1],d=[{main:"\ubbf8\uc158\uc73c\ub85c",text:"\ud658\uacbd\uc744 \uc9c0\ud0a4\ub294 \ud55c\uac78\uc74c \uc2e4\ucc9c\ud574 \ubcf4\uc138\uc694!"},{main:"\ucee4\ubba4\ub2c8\ud2f0\uc5d0\uc11c",text:"\ud658\uacbd\uc744 \uc9c0\ud0a4\ub294 \ubc29\ubc95\uc744 \uacf5\uc720\ud574 \ubcf4\uc138\uc694!"},{main:"\uc2a4\ud1a0\uc5b4\uc5d0\uc11c",text:"\ud658\uacbd \ubcf4\ud638\uc758 \uc99d\uac70\ub97c \uad6c\ub9e4\ud574 \ubcf4\uc138\uc694!"},{main:"QR\uc744 \ud1b5\ud574",text:"\uc9c0\uad6c\uc790\uad6c \uc571\uc744 \ub2e4\uc6b4\ubc1b\uc73c\uc138\uc694!"},{main:"\uc9c0\uad6c\uc790\uad6c\uc640 \ud568\uaed8\ud574\uc694",text:"\ub85c\uadf8\uc778\ud558\ub7ec\uac00\uae30"}];function b(e){z.scroller.scrollTo(e,{duration:1e3,delay:0,smooth:"easeInOutQuint"})}function O(e){-1===l?(i((function(e){return!e})),u(e)):l===e?(i((function(e){return!e})),u(-1)):u(e)}return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("div",{className:"landing-navigator",children:Object(g.jsxs)("ul",{children:[Object(g.jsx)("li",{onClick:function(){return b("landing-1")},children:"# MAIN"}),Object(g.jsx)("li",{onClick:function(){return b("landing-2")},children:"# WHY"}),Object(g.jsx)("li",{onClick:function(){return b("landing-3")},children:"# LET"}),Object(g.jsx)("li",{onClick:function(){return b("landing-4")},children:"# START"})]})}),Object(g.jsx)("div",{className:"landing-box",children:Object(g.jsxs)("div",{className:"landing-Logo",children:[Object(g.jsx)("p",{children:"\uc9c0\uad6c\uc790\uad6c"}),Object(g.jsx)("p",{children:"ZIGUZAGU"})]})}),Object(g.jsxs)("div",{className:"landing-1",children:[Object(g.jsx)(p.LazyLoadImage,{effect:"blur",alt:"background",height:"100%",width:"100%",src:Z}),Object(g.jsx)("nav",{children:Object(g.jsxs)("ul",{className:"landing-nav",children:[Object(g.jsx)("li",{className:"landing-1-video",children:r?Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("video",{preload:"true",loop:!0,autoPlay:!0,children:[Object(g.jsx)("source",{src:W,type:"video/mp4"}),"good"]})}):Object(g.jsx)(g.Fragment,{children:4===l?Object(g.jsxs)("div",{children:[Object(g.jsx)("h1",{children:d[l].main}),Object(g.jsx)("p",{className:"landing-toLogin",children:Object(g.jsx)(o.b,{to:"/auth",children:d[l].text})})]}):Object(g.jsxs)("div",{children:[Object(g.jsx)("h1",{children:d[l].main}),Object(g.jsx)("p",{children:d[l].text})]})})}),Object(g.jsxs)("li",{onClick:function(){return O(4)},children:[Object(g.jsx)(C.b,{}),Object(g.jsx)("p",{children:"Login"})]}),Object(g.jsxs)("li",{onClick:function(){return O(0)},children:[Object(g.jsx)(v.d,{}),Object(g.jsx)("p",{children:"mission"})]}),Object(g.jsxs)("li",{onClick:function(){return O(1)},children:[Object(g.jsx)(C.a,{}),Object(g.jsx)("p",{children:"Community"})]}),Object(g.jsxs)("li",{onClick:function(){return O(2)},children:[Object(g.jsx)(C.d,{}),Object(g.jsx)("p",{children:"Store"})]}),Object(g.jsxs)("li",{onClick:function(){return O(3)},children:[Object(g.jsx)(v.c,{}),Object(g.jsx)("p",{children:"QR Code"})]})]})})]}),Object(g.jsx)("div",{className:"landing-2",children:Object(g.jsxs)("div",{className:"landing-2-container",children:[Object(g.jsx)("p",{children:"\uc783\uc5b4\ubc84\ub9b0 \ud478\ub978\uc0c9\uc758 \uc9c0\uad6c\ub97c"}),Object(g.jsx)("p",{children:"\ub2e4\uc2dc \ub418\ucc3e\uae30 \uc704\ud574 \uc0dd\uac01\ud574 \ubcf4\uc558\uc2b5\ub2c8\ub2e4"})]})}),Object(g.jsx)("div",{className:"landing-3",children:Object(g.jsxs)("div",{className:"landing-3-container",children:[Object(g.jsx)("p",{children:"LoremIpsum is"}),Object(g.jsx)("p",{children:"placeholder text commonly used"})]})}),Object(g.jsx)("div",{className:"landing-4",children:Object(g.jsxs)("div",{className:"landing-4-container",children:[Object(g.jsx)("p",{children:"LoremIpsum is"}),Object(g.jsx)("p",{children:"placeholder text commonly used"})]})}),Object(g.jsxs)("footer",{className:"landing-footer",children:[Object(g.jsx)("p",{children:"\uc9c0\uad6c\uc790\uad6c"}),Object(g.jsx)("a",(e={href:Q,target:"_blank",rel:"noopener noreferrer"},Object(P.a)(e,"target","_blank"),Object(P.a)(e,"children","\uac1c\uc778\uc815\ubcf4\ucc98\ub9ac\ubc29\uce68"),e))]})]})},q=n(100),J=function(e){var t=e.userObj,n=Object(c.useState)(""),r=Object(a.a)(n,2),i=r[0],s=r[1],o=Object(c.useState)(""),j=Object(a.a)(o,2),l=j[0],b=j[1],O=Object(c.useState)(""),h=Object(a.a)(O,2),p=h[0],m=h[1],v=function(){var e=Object(d.a)(u.a.mark((function e(n){var c,r,s,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==l&&""!==i){e.next=3;break}e.next=21;break;case 3:if(n.preventDefault(),c="",""===p){e.next=13;break}return r=f.ref().child("tips/".concat(Object(q.a)())),e.next=9,r.putString(p,"data_url");case 9:return s=e.sent,e.next=12,s.ref.getDownloadURL();case 12:c=e.sent;case 13:return a={title:i,text:l,createdAt:Date.now(),creatorId:t.uid,attachmentUrl:c},e.next=16,x.collection("tips").add(a);case 16:return e.next=18,x.collection("userHistory").add({creatorId:t.uid,createdAt:Date.now(),whatDid:"WriteTip"});case 18:b(""),m(""),window.location.assign("#/community");case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsxs)("form",{onSubmit:v,children:[Object(g.jsx)("input",{value:i,onChange:function(e){var t=e.target.value;s(t)},type:"text",placeholder:"Title",maxLength:30}),Object(g.jsx)("input",{value:l,onChange:function(e){var t=e.target.value;b(t)},type:"text",placeholder:"What?",maxLength:120}),Object(g.jsx)("input",{type:"file",onChange:function(e){var t=e.target.files[0],n=new FileReader;n.onloadend=function(e){var t=e.currentTarget.result;m(t)},n.readAsDataURL(t)},accept:"image/*"}),Object(g.jsx)("input",{type:"submit",value:"Up"}),p&&Object(g.jsxs)("div",{children:[Object(g.jsx)("img",{src:p,alt:"write",width:"50px",height:"50px"}),Object(g.jsx)("button",{onClick:function(){return m("")},children:"Clear"})]})]})},K=function(e){var t=e.userObj,n=Object(c.useState)(""),r=Object(a.a)(n,2),i=r[0],s=r[1],o=Object(c.useState)(""),j=Object(a.a)(o,2),l=j[0],b=j[1],O=Object(c.useState)(""),h=Object(a.a)(O,2),p=h[0],m=h[1],v=Object(c.useState)(!1),w=Object(a.a)(v,2),y=w[0],S=w[1],C=[],N=Object(c.useState)([]),I=Object(a.a)(N,2),F=I[0],L=I[1];Object(c.useEffect)((function(){x.collection("users").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(k.a)({id:e.id},e.data())}));L(t)}))}),[]);try{for(var D=0;D<F.length;D++)if(F[D].id===t.uid){C=F[D];break}}catch(H){}C.LimitAssignItem<=0&&(alert("\uc0c1\ud488 \ub4f1\ub85d\uad8c\uc774 \uc5c6\uc2b5\ub2c8\ub2e4!"),window.location.assign(""));var M=function(){var e=Object(d.a)(u.a.mark((function e(n){var c,r,s,a,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==l&&""!==i&&""!==p&&""!==R){e.next=5;break}n.preventDefault(),alert("\uc81c\ubaa9, \ub0b4\uc6a9\uae00, \uc774\ubbf8\uc9c0 \ucd94\uac00, \uac00\uaca9 \uc124\uc815\uc744 \ubaa8\ub450 \ub9c8\ucce4\ub294\uc9c0 \ud655\uc778\ud574\uc8fc\uc138\uc694"),e.next=33;break;case 5:if(!0!==isNaN(R)){e.next=10;break}n.preventDefault(),alert("\uac00\uaca9\uc744 \uc815\uc218\ub85c \uc785\ub825\ud574\uc8fc\uc138\uc694"),e.next=33;break;case 10:if(!1!==y){e.next=33;break}if(n.preventDefault(),c="",""===p){e.next=21;break}return r=f.ref().child("tips/".concat(Object(q.a)())),e.next=17,r.putString(p,"data_url");case 17:return s=e.sent,e.next=20,s.ref.getDownloadURL();case 20:c=e.sent;case 21:return a={title:i,text:l,createdAt:Date.now(),creatorId:t.uid,attachmentUrl:c,price:R},e.next=24,x.collection("StoreItems").add(a);case 24:return e.next=26,x.collection("userHistory").add({creatorId:t.uid,createdAt:Date.now(),whatDid:"\uc0c1\ud488 \ub4f1\ub85d"});case 26:return o=Number(C.LimitAssignItem)-1,e.next=29,x.doc("users/".concat(t.uid)).update({LimitAssignItem:o});case 29:b(""),m(""),S(!0),window.location.assign("#/store");case 33:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=Object(c.useState)(""),A=Object(a.a)(U,2),R=A[0],E=A[1];return Object(g.jsxs)("form",{onSubmit:M,children:[Object(g.jsx)("input",{value:i,onChange:function(e){var t=e.target.value;s(t)},type:"text",placeholder:"Title",maxLength:30}),Object(g.jsx)("input",{value:l,onChange:function(e){var t=e.target.value;b(t)},type:"text",placeholder:"What?",maxLength:120}),Object(g.jsx)("input",{type:"text",value:R,onKeyDown:function(e){return e.key>=0&&e.key<=9},onChange:function(e){var t=e.target.value;try{E(Number(t))}catch(H){alert("\uc22b\uc790\ub9cc \uc785\ub825\ud574\uc8fc\uc138\uc694"),E()}},placeholder:"Point \uac00\uaca9"}),Object(g.jsx)("input",{type:"file",onChange:function(e){var t=e.target.files[0],n=new FileReader;n.onloadend=function(e){var t=e.currentTarget.result;m(t)},n.readAsDataURL(t)},accept:"image/*"}),Object(g.jsx)("input",{type:"submit",value:"Up"}),p&&Object(g.jsxs)("div",{children:[Object(g.jsx)("img",{src:p,alt:"write",width:"50px",height:"50px"}),Object(g.jsx)("button",{onClick:function(){return m("")},children:"Clear"})]})]})},V=function(e){"rPG81P80MydSfqia3UsTJv2zqSZ2"===e.userObj.uid||window.location.assign("");var t=Object(c.useState)(""),n=Object(a.a)(t,2),r=n[0],i=n[1],s=function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=r.split(","),e.next=4,x.collection("MissionList").doc("a").set({mission:n});case 4:i("");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("div",{children:Object(g.jsxs)("form",{onSubmit:s,children:[Object(g.jsx)("input",{type:"text",value:r,onChange:function(e){var t=e.target.value;i(t)},placeholder:"\ubbf8\uc158 \uc785\ub825, ','\ub85c \uad6c\ubd84"}),Object(g.jsx)("input",{type:"submit",value:"submit"})]})})})},Y=function(e){var t=e.userObj,n=window.location.href.split("?id=")[1],r="",i=(Object(c.useState)(""),Object(c.useState)([])),s=Object(a.a)(i,2),o=s[0],j=s[1];Object(c.useEffect)((function(){x.collection("MissionList").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(k.a)({id:e.id},e.data())}));j(t)}))}),[]);try{r=o[0].mission[n]}catch(D){}var l,b=Object(c.useState)(""),O=Object(a.a)(b,2),h=O[0],p=O[1];try{Object(c.useEffect)((function(){x.collection("users").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(k.a)({id:e.id},e.data())}));p(t)}))}),[]);for(var m=0;m<h.length;m++)if(h[m].id===t.uid){!1===(l=h[m].checkMission).includes(Number(n)+1)&&l.push(Number(n)+1);break}}catch(D){}var v=Object(c.useState)(""),w=Object(a.a)(v,2),y=w[0],S=w[1],C=Object(c.useState)(""),N=Object(a.a)(C,2),I=N[0],F=N[1],L=function(){var e=Object(d.a)(u.a.mark((function e(c){var r,i,s,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==y){e.next=3;break}e.next=23;break;case 3:if(c.preventDefault(),r="",""===I){e.next=15;break}return i=f.ref().child("tips/".concat(Object(q.a)())),e.next=9,i.putString(I,"data_url");case 9:return s=e.sent,e.next=12,s.ref.getDownloadURL();case 12:return r=e.sent,e.next=15,x.collection("userHistory").add({creatorId:t.uid,createdAt:Date.now(),whatDid:"\ubbf8\uc158 \uc778\uc99d \uc2e0\uccad"});case 15:return a={people:0,sum:0,text:y,createdAt:Date.now(),creatorId:t.uid,missionCode:n,attachmentUrl:r,who:[]},e.next=18,x.collection("Checking").add(a);case 18:return e.next=20,x.doc("users/".concat(t.uid)).update({checkMission:l});case 20:S(""),F(""),window.location.assign("#/mission");case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("p",{children:"\ubbf8\uc158 - "+r}),Object(g.jsxs)("form",{onSubmit:L,children:[Object(g.jsx)("input",{onChange:function(e){var t=e.target.value;S(t)},type:"text",placeholder:"Input Text"}),Object(g.jsx)("input",{type:"file",onChange:function(e){var t=e.target.files[0],n=new FileReader;n.onloadend=function(e){var t=e.currentTarget.result;F(t)},n.readAsDataURL(t)},accept:"image/*"}),Object(g.jsx)("input",{type:"submit",value:"\uc778\uc99d \uc2e0\uccad"})]}),I&&Object(g.jsxs)("div",{children:[Object(g.jsx)("img",{src:I,alt:"write",width:"50px",height:"50px"}),Object(g.jsx)("button",{onClick:function(){return F("")},children:"Clear"})]})]})},X=function(e){var t=e.userObj,n=window.location.href.split("?id=")[1],r=Object(c.useState)([]),i=Object(a.a)(r,2),s=i[0],j=i[1];Object(c.useEffect)((function(){x.collection("tips").orderBy("createdAt","desc").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(k.a)({id:e.id},e.data())}));j(t)}))}),[]);for(var l=-1,b=!1,O=0;O<s.length;O++)s[O].id===n&&(l=O,b=!0);var h=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you Sure to delete tips?")){e.next=8;break}return e.next=4,x.doc("tips/".concat(s[l].id)).delete();case 4:if(""===s[l].attachmentUrl){e.next=7;break}return e.next=7,f.refFromURL(s[l].attachmentUrl).delete();case 7:window.location.assign("");case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("nav",{children:Object(g.jsx)("ul",{children:Object(g.jsx)("li",{children:Object(g.jsx)(o.b,{to:"/community",children:"Go Back"})})})}),Object(g.jsx)("div",{children:b&&Object(g.jsxs)(g.Fragment,{children:[s[l].creatorId===t.uid&&Object(g.jsx)("button",{onClick:h,children:"Delete"}),Object(g.jsx)("h4",{children:s[l].title}),Object(g.jsx)("p",{children:s[l].text}),""!==s[l].attachmentUrl&&Object(g.jsx)("img",{alt:"modal",src:s[l].attachmentUrl,height:"70px",width:"70px"})]})})]})},$=function(e){var t=e.userObj,n=window.location.href.split("?id=")[1],r=Object(c.useState)([]),i=Object(a.a)(r,2),s=i[0],j=i[1];Object(c.useEffect)((function(){x.collection("StoreItems").orderBy("createdAt","desc").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(k.a)({id:e.id},e.data())}));j(t)}))}),[]);var l=0,b=!1;try{for(var O=0;O<s.length;O++)s[O].id===n&&(b=!0,l=O)}catch(S){}var h,f=Object(c.useState)([]),p=Object(a.a)(f,2),m=p[0],v=p[1];Object(c.useEffect)((function(){x.collection("users").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(k.a)({id:e.id},e.data())}));v(t)}))}),[]);for(var w=0;w<m.length;w++)if(m[w].id===t.uid){h=m[w];break}var y=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(h.point>=s[l].price)){e.next=12;break}if(s[l].creatorId!==t.uid){e.next=6;break}alert("\uc790\uc2e0\uc758 \uc0c1\ud488\uc740 \uad6c\ub9e4\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."),window.location.assign(""),e.next=10;break;case 6:return alert("\ud14c\uc2a4\ud2b8\uae30\uac04\uc785\ub2c8\ub2e4. \uc0c1\ud488\uc740 \ubc30\uc1a1\ub418\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4. (\uc720\uc800 \ud3ec\uc778\ud2b8 \ubc0f \ud574\ub2f9 \uc0c1\ud488\uc740 \uc0ac\ub77c\uc9d1\ub2c8\ub2e4)"),e.next=9,x.doc("users/".concat(t.uid)).update({point:h.point-s[l].price});case 9:window.location.assign("");case 10:e.next=14;break;case 12:alert("\ud3ec\uc778\ud2b8\uac00 \ubd80\uc871\ud569\ub2c8\ub2e4."),window.location.assign("");case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("nav",{children:Object(g.jsx)("ul",{children:Object(g.jsx)("li",{children:Object(g.jsx)(o.b,{to:"/store",children:"Go Back"})})})}),Object(g.jsx)("div",{children:b&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("h4",{children:s[l].title}),Object(g.jsx)("p",{children:s[l].text}),""!==s[l].attachmentUrl&&Object(g.jsx)("img",{alt:"StoreModal",src:s[l].attachmentUrl}),Object(g.jsx)("p",{children:s[l].price+" point"}),Object(g.jsx)("button",{onClick:y,children:"BUY"})]})})]})},ee=function(e){var t,n=e.userObj,r=window.location.href.split("?id=")[1],i=Object(c.useState)([]),s=Object(a.a)(i,2),j=s[0],l=s[1];Object(c.useEffect)((function(){x.collection("Checking").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(k.a)({id:e.id},e.data())}));l(t)}))}),[]);Object(c.useState)("");var b,O=Object(c.useState)([]),h=Object(a.a)(O,2),f=h[0],p=h[1];Object(c.useEffect)((function(){x.collection("MissionList").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(k.a)({id:e.id},e.data())}));p(t)}))}));var m=!1;try{for(var v=0;v<j.length;v++)if(j[v].id===r){t=j[v],b=f[0].mission[t.missionCode],m=!0;break}}catch(I){}var w=Object(c.useState)(""),y=Object(a.a)(w,2),S=y[0],C=y[1],N=function(){var e=Object(d.a)(u.a.mark((function e(c){var r,i,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(""!==S&&S>=0&&S<10)){e.next=14;break}return c.preventDefault(),r=Number(t.people)+Number(1),i=Number(t.sum)+Number(S),(s=t.who).push(n.uid),e.next=8,x.doc("Checking/".concat(t.id)).update({people:r,sum:i,who:s});case 8:return e.next=10,x.collection("userHistory").add({creatorId:n.uid,createdAt:Date.now(),whatDid:"\ubbf8\uc158 \ud3c9\uac00"});case 10:C(0),window.location.assign(""),e.next=16;break;case 14:C(0),alert("\uc22b\uc790\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694");case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(o.b,{to:"/mission",children:"back"}),m&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("div",{children:b}),Object(g.jsx)("div",{children:t.text})]}),Object(g.jsxs)("form",{onSubmit:N,children:[Object(g.jsx)("input",{type:"text",value:S,onKeyDown:function(e){return e.key>=0&&e.key<=9},onChange:function(e){var t=e.target.value;S>10&&(t=9,alert("10\ubcf4\ub2e4 \uc791\uc740 \uc218\ub85c \uc785\ub825\ud574\uc8fc\uc138\uc694")),C(t)},maxLength:1,placeholder:"0~9 \uc0ac\uc774\ub85c \uc785\ub825\ud574\uc8fc\uc138\uc694"}),Object(g.jsx)("input",{type:"submit",value:"Up"})]})]})},te=function(e){var t=e.isLoggedIn,n=e.userObj,r=Object(c.useState)(!1),i=Object(a.a)(r,2),s=i[0],l=i[1],u=["profile","store","mission","community","master","verify","modal","storeitem","evalute","write"];return window.onhashchange=function(){for(var e=window.location.href,t=0,n=0;n<u.length;n++)if(-1!==e.indexOf(u[n])){t+=1;break}l(t>0)},Object(g.jsxs)(o.a,{children:[t&&Object(g.jsx)(g.Fragment,{children:s?Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(L,{})}):Object(g.jsx)(g.Fragment,{})}),Object(g.jsx)(j.d,{children:Object(g.jsx)(g.Fragment,{children:t?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(j.b,{exact:!0,path:"/",children:Object(g.jsx)(N,{userObj:n})}),Object(g.jsx)(j.b,{exact:!0,path:"/profile",children:Object(g.jsx)(F,{userObj:n})}),Object(g.jsx)(j.b,{exact:!0,path:"/store",children:Object(g.jsx)(M,{userObj:n})}),Object(g.jsx)(j.b,{exact:!0,path:"/mission",children:Object(g.jsx)(H,{userObj:n})}),Object(g.jsx)(j.b,{exact:!0,path:"/community",children:Object(g.jsx)(G,{userObj:n,isLoggedIn:t})}),Object(g.jsx)(j.b,{exact:!0,path:"/community/write",children:Object(g.jsx)(J,{userObj:n})}),Object(g.jsx)(j.b,{exact:!0,path:"/store/item",children:Object(g.jsx)(K,{userObj:n})}),Object(g.jsx)(j.b,{exact:!0,path:"/master",children:Object(g.jsx)(V,{userObj:n})}),Object(g.jsx)(j.b,{path:"/verify",children:Object(g.jsx)(Y,{userObj:n})}),Object(g.jsx)(j.b,{path:"/modal",children:Object(g.jsx)(X,{userObj:n})}),Object(g.jsx)(j.b,{path:"/storeitem",children:Object(g.jsx)($,{userObj:n})}),Object(g.jsx)(j.b,{path:"/evalute",children:Object(g.jsx)(ee,{userObj:n})}),Object(g.jsx)(j.a,{from:"*",to:"/"})]}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(j.b,{exact:!0,path:"/",children:Object(g.jsx)(_,{})}),Object(g.jsx)(j.a,{from:"*",to:"/"}),Object(g.jsx)(j.b,{exact:!0,path:"/auth",children:Object(g.jsx)(w,{})})]})})})]})};var ne=function(){var e=Object(c.useState)(!1),t=Object(a.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)(!1),s=Object(a.a)(i,2),o=s[0],j=s[1],l=Object(c.useState)(null),u=Object(a.a)(l,2),d=u[0],b=u[1];return Object(c.useEffect)((function(){h.onAuthStateChanged((function(e){e?(j(!0),b(e)):j(!1),r(!0)}))}),[]),Object(g.jsx)(g.Fragment,{children:n?Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(te,{isLoggedIn:o,userObj:d})}):"\ub3d9\uae30\ud654 \uc911"})};s.a.render(Object(g.jsx)(r.a.StrictMode,{children:Object(g.jsx)(ne,{})}),document.getElementById("root"))}},[[97,1,2]]]);
//# sourceMappingURL=main.b76cc10d.chunk.js.map